
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/game/map.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3c716btzcBBa70Q3ASDnAqd', 'map');
// script/game/map.js

"use strict";

var _followerlist = require("./followerlist.js");

var _game = require("./game.js");

var _interact = require("./interact.js");

var _require = require('weixin_ty'),
    wxcur = _require.wxcur;

var _require2 = require('basis'),
    basis = _require2.basis;

var map = cc.Class({
  "extends": cc.Component,
  properties: {
    boothLevel1: cc.Prefab,
    minMapLoc: cc.Prefab,
    skils1: cc.Prefab,
    skils2: cc.Prefab,
    skils3: cc.Prefab,
    renwu: cc.Prefab,
    money: cc.Prefab,
    minMap: cc.Node,
    sceneMap: cc.Node
  },
  onLoad: function onLoad() {
    map._this = this;
    this.boothArr = ',';
    this.boothArrList = [];
    this.e = 0;
    this.e2 = 0;
    this.e3 = 0;
    this.e4 = 0;
    this.maxMapX = basis.mapWidth / 80;
    this.maxMapY = basis.mapHeight / 80;
    this.skils1Pool = wxcur.setNodeBool(10, this.skils1);
    this.skils2Pool = wxcur.setNodeBool(10, this.skils2);
    this.skils3Pool = wxcur.setNodeBool(10, this.skils3);
    this.moneyPool = wxcur.setNodeBool(50, this.money);
    this.setMap();
  },
  rom: function rom(X, Y, width, height, level, type) {
    var that = this;
    var romNum = Math.floor(Math.random() * this.boothArrList.length);
    var rXY = this.boothArrList[romNum];

    if (rXY.x + width > X || rXY.y + height > Y) {
      this.rom(X, Y, width, height, level, type);
      return;
    }

    var romX = rXY.x;
    var romY = rXY.y;
    var arr = '';

    for (var i = 0; i < width; i++) {
      for (var j = 0; j < height; j++) {
        var romXY = "," + (romX + i) + "_" + (romY + j) + "_";

        if (this.boothArr.indexOf(romXY) >= 0) {
          this.rom(X, Y, width, height, level, type);
          return;
        }

        arr += romXY + "_l" + level + ",";

        if (i == width - 1 && j == height - 1) {
          this.boothArrList.splice(romNum, 1);
          this.boothArr += arr;

          if (type == 'followe') {
            that.addFollowe(romX + i, romY + j);

            if (this.map.length != 0) {
              this.map[romY + j][romX + i] = 'f';
            }
          } else if (type == 'skils1' || type == 'skils2' || type == 'skils3') {
            that.addSkils(romX + i, romY + j, type);

            if (this.map.length != 0) {
              this.map[romY + j][romX + i] = 's';
            }
          } else {
            that.addBooth(level, romX + i, romY + j);
            that.addMinMap(level, romX + i, romY + j);
          }
        }
      }
    }

    console.log(this.map, this.boothArrList);
  },
  setMap: function setMap() {
    var _this = this;

    this.map = [];
    var mapX = this.maxMapX;
    var mapY = this.maxMapY;

    for (var i = 0; i < mapY; i++) {
      for (var j = 0; j < mapX; j++) {
        this.boothArrList.push({
          x: j,
          y: i
        });
      }
    }

    var booth1 = basis.booth1;
    var booth2 = basis.booth2;
    var booth3 = basis.booth3;
    var booth4 = basis.booth4;

    for (var _i = 0; _i < basis.aiNum; _i++) {
      this.addRenwu(_i);
    }

    for (var _i2 = 0; _i2 < booth4; _i2++) {
      this.rom(mapX, mapY, 6, 6, 4);
    }

    for (var _i3 = 0; _i3 < booth3; _i3++) {
      this.rom(mapX, mapY, 5, 4, 3);
    }

    for (var _i4 = 0; _i4 < booth2; _i4++) {
      this.rom(mapX, mapY, 4, 3, 2);
    }

    for (var _i5 = 0; _i5 < booth1; _i5++) {
      this.rom(mapX, mapY, 3, 3, 1);
    }

    console.log('开启');

    var _loop = function _loop(_i6) {
      var _loop2 = function _loop2(_j) {
        if (_this.map[_i6] && _this.map[_i6][_j]) return "continue";
        !_this.map[_i6] ? _this.map[_i6] = [] : '';
        var romXY = "," + _j + "_" + _i6 + "_";

        var index = _this.boothArr.indexOf(romXY);

        var boothArr2 = _this.boothArr;

        if (index >= 0) {
          boothArr2 = boothArr2.split(romXY);

          var findx = _this.boothArrList.findIndex(function (res) {
            return res.x == _j && res.y == _i6;
          });

          if (findx >= 0) {
            _this.boothArrList.splice(findx, 1);
          }

          _this.map[_i6][_j] = boothArr2[1][2];
        } else {
          _this.map[_i6][_j] = 0;
        }
      };

      for (var _j = 0; _j < mapX; _j++) {
        var _ret = _loop2(_j);

        if (_ret === "continue") continue;
      }
    };

    for (var _i6 = 0; _i6 < mapY; _i6++) {
      _loop(_i6);
    }

    for (var _i7 = 0; _i7 < basis.initGuestNum; _i7++) {
      this.rom(mapX, mapY, 1, 1, 'f', 'followe');
    }

    for (var _i8 = 0; _i8 < basis.initSkils1Num; _i8++) {
      this.rom(mapX, mapY, 1, 1, 's', 'skils1');
    }

    for (var _i9 = 0; _i9 < basis.initSkils2Num; _i9++) {
      this.rom(mapX, mapY, 1, 1, 's', 'skils2');
    }

    for (var _i10 = 0; _i10 < basis.initSkils3Num; _i10++) {
      this.rom(mapX, mapY, 1, 1, 's', 'skils3');
    } //console.log(this.map, this.boothArrList)

  },
  addRenwu: function addRenwu(i) {
    var x = (Math.random() * 1 - 0.5) * basis.mapWidth;
    var y = (Math.random() * 1 - 0.5) * basis.mapHeight;
    var minMapLoc = cc.instantiate(this.minMapLoc);
    minMapLoc.x = x * (200 / basis.mapWidth);
    minMapLoc.y = y * (240 / basis.mapHeight);
    minMapLoc.width = 6;
    minMapLoc.height = 6;
    minMapLoc.parent = this.minMap; // if (i / 2 == 0) {
    //     minMapLoc.color = new cc.Color(0, 255, 0, 255)
    // } else {
    //     minMapLoc.color = new cc.Color(255, 0, 255, 255)
    // }

    minMapLoc.color = new cc.Color(139, 137, 127, 255); //minMapLoc.color = new cc.Color(176, 134, 35, 255)

    var renwu = cc.instantiate(this.renwu);
    var renwuCom = renwu.getComponent('renwu');
    renwu.x = x;
    renwu.y = y;
    renwu.name = "ai-" + i;
    renwu.parent = _followerlist.followerlist._this.followerlist;
    renwu.minMapLocColor = minMapLoc.color;
    renwuCom.xiaodituw = minMapLoc;
    renwu.gameName = basis.gameAllName[i];

    for (var _i11 = 0; _i11 < basis.aiInitFigure; _i11++) {
      var foll = this.addFollowe(x / 80, y / 80);
      foll.initChar = true;
      renwuCom.addMyfollow(foll);
    }
  },
  addSkils: function addSkils(i, j, type) {
    var node = null;

    if (type == 'skils1') {
      node = wxcur.getNodeBool(this.skils1Pool, this.skils1);
      node.name = "\u6280\u80FD-\u63FD\u5BA2\u52A0\u5F3A-" + node._id;
      node.skilsType = 1;
    } else if (type == 'skils2') {
      node = wxcur.getNodeBool(this.skils2Pool, this.skils2);
      node.name = "\u6280\u80FD-\u6536\u76CA\u589E\u5F3A-" + node._id;
      node.skilsType = 2;
    } else if (type == 'skils3') {
      node = wxcur.getNodeBool(this.skils3Pool, this.skils3);
      node.name = "\u6280\u80FD-\u79FB\u52A8\u52A0\u5F3A-" + node._id;
      node.skilsType = 3;
    } //node.children[0].getComponent(cc.Label).string = node.name


    node.mapX = i;
    node.mapY = j;
    node.x = 80 - 1160 + i * 80;
    node.y = 80 + 1200 - j * 80;
    node.parent = _followerlist.followerlist._this.followerlist;
  },
  addFollowe: function addFollowe(i, j) {
    var followerPool = _followerlist.followerlist._this.followerPool;
    var node = wxcur.getNodeBool(followerPool, _followerlist.followerlist._this.follower);
    node.mapX = i;
    node.mapY = j;
    node.x = 80 - 1160 + i * 80;
    node.y = 80 + 1200 - j * 80;
    node.name = "\u6563-\u5BA2\u4EBA\u7269-" + node._id;
    node.openName = basis.gameNameList[Math.floor(basis.gameNameList.length * Math.random())];
    node.parent = _followerlist.followerlist._this.followerlist;
    return node;
  },
  addMinMap: function addMinMap(level, i, j) {
    var node = cc.instantiate(this.minMapLoc);
    node.level = level;

    switch (level) {
      case 1:
        node.x = 80 - 1160 + (i - 1) * 80;
        node.y = 80 + 1200 - (j - 1) * 80;
        node.width = 10;
        node.height = 4;
        break;

      case 2:
        node.x = 160 - 1200 + (i - 2) * 80;
        node.y = 80 + 1200 - (j - 1) * 80;
        node.width = 14;
        node.height = 8;
        break;

      case 3:
        node.x = 240 - 1240 + (i - 3) * 80;
        node.y = 160 + 1080 - (j - 2) * 80;
        node.width = 20;
        node.height = 10;
        break;

      case 4:
        node.x = 320 - 1280 + (i - 4) * 80;
        node.y = 320 + 840 - (j - 4) * 80;
        node.width = 26;
        node.height = 16;
        break;
    }

    node.mapX = i;
    node.mapY = j;
    node.typeNmae = 'booth';
    node.x = node.x * (200 / basis.mapWidth);
    node.y = node.y * (240 / basis.mapHeight);
    node.children[0].width = node.width;
    node.children[0].height = node.height;
    node.parent = this.minMap;
  },
  addBooth: function addBooth(level, i, j) {
    var node = cc.instantiate(this.boothLevel1);
    node.level = level;
    node.getComponent('booth').init(level, i, j);
    node.name = "\u644A\u4F4D-" + i + "-" + j;
    node.parent = this.sceneMap;
  },
  addMoney: function addMoney(x, y, num) {
    var _this2 = this;

    var node = wxcur.getNodeBool(this.moneyPool, this.money);
    var v2 = cc.v2((Math.random() * 1 - 0.5) * 150, (Math.random() * 1 - 0.5) * 150);
    node.x = x;
    node.y = y;
    node.zIndex = 2;
    node.name = "\u949E\u7968-" + node._id;
    node.parent = this.sceneMap;
    node.runAction(cc.sequence(cc.moveBy(0.2, v2), cc.callFunc(function () {
      node.group = '钱';
    })));

    if (num <= basis.beatEachDropMoney) {
      node.money = num;
    } else {
      node.money = basis.beatEachDropMoney;
      num -= basis.beatEachDropMoney;
      setTimeout(function () {
        _this2.addMoney(x, y, num);
      }, 100);
    }
  },
  update: function update(dt) {
    this.e += dt;
    this.e2 += dt;
    this.e3 += dt;
    this.e4 += dt; // if (this.e >= basis.newGuestTime && game._this.gameStart) {
    //     this.e = 0;
    //     this.rom(this.maxMapX, this.maxMapY, 1, 1, 'f', 'followe');
    // }
    // if (this.e2 >= basis.newSkils1Time && game._this.gameStart) {
    //     this.e2 = 0;
    //     this.rom(this.maxMapX, this.maxMapY, 1, 1, 's', 'skils1');
    // }
    // if (this.e3 >= basis.newSkils2Time && game._this.gameStart) {
    //     this.e3 = 0;
    //     this.rom(this.maxMapX, this.maxMapY, 1, 1, 's', 'skils2');
    // }
    // if (this.e4 >= basis.newSkils3Time && game._this.gameStart) {
    //     this.e4 = 0;
    //     this.rom(this.maxMapX, this.maxMapY, 1, 1, 's', 'skils3');
    // }
  }
});
exports.map = map;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvZ2FtZS9tYXAuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsInd4Y3VyIiwiYmFzaXMiLCJtYXAiLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImJvb3RoTGV2ZWwxIiwiUHJlZmFiIiwibWluTWFwTG9jIiwic2tpbHMxIiwic2tpbHMyIiwic2tpbHMzIiwicmVud3UiLCJtb25leSIsIm1pbk1hcCIsIk5vZGUiLCJzY2VuZU1hcCIsIm9uTG9hZCIsIl90aGlzIiwiYm9vdGhBcnIiLCJib290aEFyckxpc3QiLCJlIiwiZTIiLCJlMyIsImU0IiwibWF4TWFwWCIsIm1hcFdpZHRoIiwibWF4TWFwWSIsIm1hcEhlaWdodCIsInNraWxzMVBvb2wiLCJzZXROb2RlQm9vbCIsInNraWxzMlBvb2wiLCJza2lsczNQb29sIiwibW9uZXlQb29sIiwic2V0TWFwIiwicm9tIiwiWCIsIlkiLCJ3aWR0aCIsImhlaWdodCIsImxldmVsIiwidHlwZSIsInRoYXQiLCJyb21OdW0iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJyWFkiLCJ4IiwieSIsInJvbVgiLCJyb21ZIiwiYXJyIiwiaSIsImoiLCJyb21YWSIsImluZGV4T2YiLCJzcGxpY2UiLCJhZGRGb2xsb3dlIiwiYWRkU2tpbHMiLCJhZGRCb290aCIsImFkZE1pbk1hcCIsImNvbnNvbGUiLCJsb2ciLCJtYXBYIiwibWFwWSIsInB1c2giLCJib290aDEiLCJib290aDIiLCJib290aDMiLCJib290aDQiLCJhaU51bSIsImFkZFJlbnd1IiwiaW5kZXgiLCJib290aEFycjIiLCJzcGxpdCIsImZpbmR4IiwiZmluZEluZGV4IiwicmVzIiwiaW5pdEd1ZXN0TnVtIiwiaW5pdFNraWxzMU51bSIsImluaXRTa2lsczJOdW0iLCJpbml0U2tpbHMzTnVtIiwiaW5zdGFudGlhdGUiLCJwYXJlbnQiLCJjb2xvciIsIkNvbG9yIiwicmVud3VDb20iLCJnZXRDb21wb25lbnQiLCJuYW1lIiwiZm9sbG93ZXJsaXN0IiwibWluTWFwTG9jQ29sb3IiLCJ4aWFvZGl0dXciLCJnYW1lTmFtZSIsImdhbWVBbGxOYW1lIiwiYWlJbml0RmlndXJlIiwiZm9sbCIsImluaXRDaGFyIiwiYWRkTXlmb2xsb3ciLCJub2RlIiwiZ2V0Tm9kZUJvb2wiLCJfaWQiLCJza2lsc1R5cGUiLCJmb2xsb3dlclBvb2wiLCJmb2xsb3dlciIsIm9wZW5OYW1lIiwiZ2FtZU5hbWVMaXN0IiwidHlwZU5tYWUiLCJjaGlsZHJlbiIsImluaXQiLCJhZGRNb25leSIsIm51bSIsInYyIiwiekluZGV4IiwicnVuQWN0aW9uIiwic2VxdWVuY2UiLCJtb3ZlQnkiLCJjYWxsRnVuYyIsImdyb3VwIiwiYmVhdEVhY2hEcm9wTW9uZXkiLCJzZXRUaW1lb3V0IiwidXBkYXRlIiwiZHQiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUlBOztBQUNBOztBQUNBOztlQUxrQkEsT0FBTyxDQUFDLFdBQUQ7SUFBakJDLGlCQUFBQTs7Z0JBQ1VELE9BQU8sQ0FBQyxPQUFEO0lBQWpCRSxrQkFBQUE7O0FBTVIsSUFBTUMsR0FBRyxHQUFHQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNqQixhQUFTRCxFQUFFLENBQUNFLFNBREs7QUFHakJDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxXQUFXLEVBQUVKLEVBQUUsQ0FBQ0ssTUFEUjtBQUVSQyxJQUFBQSxTQUFTLEVBQUVOLEVBQUUsQ0FBQ0ssTUFGTjtBQUdSRSxJQUFBQSxNQUFNLEVBQUVQLEVBQUUsQ0FBQ0ssTUFISDtBQUlSRyxJQUFBQSxNQUFNLEVBQUVSLEVBQUUsQ0FBQ0ssTUFKSDtBQUtSSSxJQUFBQSxNQUFNLEVBQUVULEVBQUUsQ0FBQ0ssTUFMSDtBQU1SSyxJQUFBQSxLQUFLLEVBQUVWLEVBQUUsQ0FBQ0ssTUFORjtBQU9STSxJQUFBQSxLQUFLLEVBQUVYLEVBQUUsQ0FBQ0ssTUFQRjtBQVFSTyxJQUFBQSxNQUFNLEVBQUVaLEVBQUUs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QjtBQUNILE9BRlMsRUFFUCxHQUZPLENBQVY7QUFHSDtBQUNKLEdBalRnQjtBQWtUakJVLEVBQUFBLE1BbFRpQixrQkFrVFZDLEVBbFRVLEVBa1ROO0FBQ1AsU0FBS3RHLENBQUwsSUFBVXNHLEVBQVY7QUFDQSxTQUFLckcsRUFBTCxJQUFXcUcsRUFBWDtBQUNBLFNBQUtwRyxFQUFMLElBQVdvRyxFQUFYO0FBQ0EsU0FBS25HLEVBQUwsSUFBV21HLEVBQVgsQ0FKTyxDQU1QO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0g7QUF4VWdCLENBQVQsQ0FBWjtBQTJVQUMsT0FBTyxDQUFDM0gsR0FBUixHQUFjQSxHQUFkIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IHsgd3hjdXIgfSA9IHJlcXVpcmUoJ3dlaXhpbl90eScpO1xuY29uc3QgeyBiYXNpcyB9ID0gcmVxdWlyZSgnYmFzaXMnKTtcblxuaW1wb3J0IHsgZm9sbG93ZXJsaXN0IH0gZnJvbSAnLi9mb2xsb3dlcmxpc3QuanMnO1xuaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vZ2FtZS5qcyc7XG5pbXBvcnQgeyBpbnRlcmFjdCB9IGZyb20gJy4vaW50ZXJhY3QuanMnO1xuXG5jb25zdCBtYXAgPSBjYy5DbGFzcyh7XG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxuXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBib290aExldmVsMTogY2MuUHJlZmFiLFxuICAgICAgICBtaW5NYXBMb2M6IGNjLlByZWZhYixcbiAgICAgICAgc2tpbHMxOiBjYy5QcmVmYWIsXG4gICAgICAgIHNraWxzMjogY2MuUHJlZmFiLFxuICAgICAgICBza2lsczM6IGNjLlByZWZhYixcbiAgICAgICAgcmVud3U6IGNjLlByZWZhYixcbiAgICAgICAgbW9uZXk6IGNjLlByZWZhYixcbiAgICAgICAgbWluTWFwOiBjYy5Ob2RlLFxuICAgICAgICBzY2VuZU1hcDogY2MuTm9kZVxuICAgIH0sXG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIG1hcC5fdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5ib290aEFyciA9ICcsJztcbiAgICAgICAgdGhpcy5ib290aEFyckxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5lID0gMDtcbiAgICAgICAgdGhpcy5lMiA9IDA7XG4gICAgICAgIHRoaXMuZTMgPSAwO1xuICAgICAgICB0aGlzLmU0ID0gMDtcbiAgICAgICAgdGhpcy5tYXhNYXBYID0gYmFzaXMubWFwV2lkdGggLyA4MDtcbiAgICAgICAgdGhpcy5tYXhNYXBZID0gYmFzaXMubWFwSGVpZ2h0IC8gODA7XG5cbiAgICAgICAgdGhpcy5za2lsczFQb29sID0gd3hjdXIuc2V0Tm9kZUJvb2woMTAsIHRoaXMuc2tpbHMxKTtcbiAgICAgICAgdGhpcy5za2lsczJQb29sID0gd3hjdXIuc2V0Tm9kZUJvb2woMTAsIHRoaXMuc2tpbHMyKTtcbiAgICAgICAgdGhpcy5za2lsczNQb29sID0gd3hjdXIuc2V0Tm9kZUJvb2woMTAsIHRoaXMuc2tpbHMzKTtcblxuICAgICAgICB0aGlzLm1vbmV5UG9vbCA9IHd4Y3VyLnNldE5vZGVCb29sKDUwLCB0aGlzLm1vbmV5KTtcblxuICAgICAgICB0aGlzLnNldE1hcCgpO1xuICAgIH0sXG4gICAgcm9tKFgsIFksIHdpZHRoLCBoZWlnaHQsIGxldmVsLCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IHJvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYm9vdGhBcnJMaXN0Lmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHJYWSA9IHRoaXMuYm9vdGhBcnJMaXN0W3JvbU51bV07XG5cbiAgICAgICAgaWYgKHJYWS54ICsgd2lkdGggPiBYIHx8IHJYWS55ICsgaGVpZ2h0ID4gWSkge1xuICAgICAgICAgICAgdGhpcy5yb20oWCwgWSwgd2lkdGgsIGhlaWdodCwgbGV2ZWwsIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcm9tWCA9IHJYWS54O1xuICAgICAgICBsZXQgcm9tWSA9IHJYWS55O1xuICAgICAgICBsZXQgYXJyID0gJydcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcm9tWFkgPSBgLCR7cm9tWCArIGl9XyR7cm9tWSArIGp9X2A7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9vdGhBcnIuaW5kZXhPZihyb21YWSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvbShYLCBZLCB3aWR0aCwgaGVpZ2h0LCBsZXZlbCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgYXJyICs9IGAke3JvbVhZfV9sJHtsZXZlbH0sYDtcblxuICAgICAgICAgICAgICAgIGlmIChpID09IHdpZHRoIC0gMSAmJiBqID09IGhlaWdodCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib290aEFyckxpc3Quc3BsaWNlKHJvbU51bSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9vdGhBcnIgKz0gYXJyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnZm9sbG93ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYWRkRm9sbG93ZShyb21YICsgaSwgcm9tWSArIGopXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtyb21ZICsgal1bcm9tWCArIGldID0gJ2YnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3NraWxzMScgfHwgdHlwZSA9PSAnc2tpbHMyJyB8fCB0eXBlID09ICdza2lsczMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmFkZFNraWxzKHJvbVggKyBpLCByb21ZICsgaiwgdHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcC5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwW3JvbVkgKyBqXVtyb21YICsgaV0gPSAncyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmFkZEJvb3RoKGxldmVsLCByb21YICsgaSwgcm9tWSArIGopXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmFkZE1pbk1hcChsZXZlbCwgcm9tWCArIGksIHJvbVkgKyBqKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2codGhpcy5tYXAsdGhpcy5ib290aEFyckxpc3QpXG4gICAgfSxcbiAgICBzZXRNYXAoKSB7XG4gICAgICAgIHRoaXMubWFwID0gW107XG4gICAgICAgIGNvbnN0IG1hcFggPSB0aGlzLm1heE1hcFg7XG4gICAgICAgIGNvbnN0IG1hcFkgPSB0aGlzLm1heE1hcFk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXBZOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWFwWDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib290aEFyckxpc3QucHVzaCh7IHg6IGosIHk6IGkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYm9vdGgxID0gYmFzaXMuYm9vdGgxO1xuICAgICAgICBsZXQgYm9vdGgyID0gYmFzaXMuYm9vdGgyO1xuICAgICAgICBsZXQgYm9vdGgzID0gYmFzaXMuYm9vdGgzO1xuICAgICAgICBsZXQgYm9vdGg0ID0gYmFzaXMuYm9vdGg0O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzaXMuYWlOdW07IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hZGRSZW53dShpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9vdGg0OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm9tKG1hcFgsIG1hcFksIDYsIDYsIDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib290aDM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yb20obWFwWCwgbWFwWSwgNSwgNCwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvb3RoMjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvbShtYXBYLCBtYXBZLCA0LCAzLCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9vdGgxOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm9tKG1hcFgsIG1hcFksIDMsIDMsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCflvIDlkK8nKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcFk7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXBYOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXBbaV0gJiYgdGhpcy5tYXBbaV1bal0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICF0aGlzLm1hcFtpXSA/IHRoaXMubWFwW2ldID0gW10gOiAnJztcblxuICAgICAgICAgICAgICAgIGxldCByb21YWSA9IGAsJHtqfV8ke2l9X2A7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmJvb3RoQXJyLmluZGV4T2Yocm9tWFkpO1xuICAgICAgICAgICAgICAgIGxldCBib290aEFycjIgPSB0aGlzLmJvb3RoQXJyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYm9vdGhBcnIyID0gYm9vdGhBcnIyLnNwbGl0KHJvbVhZKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluZHggPSB0aGlzLmJvb3RoQXJyTGlzdC5maW5kSW5kZXgocmVzID0+IHJlcy54ID09IGogJiYgcmVzLnkgPT0gaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5keCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb3RoQXJyTGlzdC5zcGxpY2UoZmluZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV1bal0gPSBib290aEFycjJbMV1bMl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV1bal0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzaXMuaW5pdEd1ZXN0TnVtOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm9tKG1hcFgsIG1hcFksIDEsIDEsICdmJywgJ2ZvbGxvd2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzaXMuaW5pdFNraWxzMU51bTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvbShtYXBYLCBtYXBZLCAxLCAxLCAncycsICdza2lsczEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzaXMuaW5pdFNraWxzMk51bTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvbShtYXBYLCBtYXBZLCAxLCAxLCAncycsICdza2lsczInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzaXMuaW5pdFNraWxzM051bTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvbShtYXBYLCBtYXBZLCAxLCAxLCAncycsICdza2lsczMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5tYXAsIHRoaXMuYm9vdGhBcnJMaXN0KVxuICAgIH0sXG4gICAgYWRkUmVud3UoaSkge1xuICAgICAgICBjb25zdCB4ID0gKE1hdGgucmFuZG9tKCkgKiAxIC0gMC41KSAqIGJhc2lzLm1hcFdpZHRoO1xuICAgICAgICBjb25zdCB5ID0gKE1hdGgucmFuZG9tKCkgKiAxIC0gMC41KSAqIGJhc2lzLm1hcEhlaWdodDtcblxuICAgICAgICBjb25zdCBtaW5NYXBMb2MgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLm1pbk1hcExvYyk7XG4gICAgICAgIG1pbk1hcExvYy54ID0geCAqICgyMDAgLyBiYXNpcy5tYXBXaWR0aCk7XG4gICAgICAgIG1pbk1hcExvYy55ID0geSAqICgyNDAgLyBiYXNpcy5tYXBIZWlnaHQpO1xuICAgICAgICBtaW5NYXBMb2Mud2lkdGggPSA2O1xuICAgICAgICBtaW5NYXBMb2MuaGVpZ2h0ID0gNjtcbiAgICAgICAgbWluTWFwTG9jLnBhcmVudCA9IHRoaXMubWluTWFwO1xuICAgICAgICAvLyBpZiAoaSAvIDIgPT0gMCkge1xuICAgICAgICAvLyAgICAgbWluTWFwTG9jLmNvbG9yID0gbmV3IGNjLkNvbG9yKDAsIDI1NSwgMCwgMjU1KVxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgbWluTWFwTG9jLmNvbG9yID0gbmV3IGNjLkNvbG9yKDI1NSwgMCwgMjU1LCAyNTUpXG4gICAgICAgIC8vIH1cbiAgICAgICAgbWluTWFwTG9jLmNvbG9yID0gbmV3IGNjLkNvbG9yKDEzOSwgMTM3LCAxMjcsIDI1NSlcbiAgICAgICAgLy9taW5NYXBMb2MuY29sb3IgPSBuZXcgY2MuQ29sb3IoMTc2LCAxMzQsIDM1LCAyNTUpXG5cblxuICAgICAgICBjb25zdCByZW53dSA9IGNjLmluc3RhbnRpYXRlKHRoaXMucmVud3UpO1xuICAgICAgICBjb25zdCByZW53dUNvbSA9IHJlbnd1LmdldENvbXBvbmVudCgncmVud3UnKVxuICAgICAgICByZW53dS54ID0geDtcbiAgICAgICAgcmVud3UueSA9IHk7XG4gICAgICAgIHJlbnd1Lm5hbWUgPSBgYWktJHtpfWBcbiAgICAgICAgcmVud3UucGFyZW50ID0gZm9sbG93ZXJsaXN0Ll90aGlzLmZvbGxvd2VybGlzdDtcbiAgICAgICAgcmVud3UubWluTWFwTG9jQ29sb3IgPSBtaW5NYXBMb2MuY29sb3JcbiAgICAgICAgcmVud3VDb20ueGlhb2RpdHV3ID0gbWluTWFwTG9jO1xuICAgICAgICByZW53dS5nYW1lTmFtZSA9IGJhc2lzLmdhbWVBbGxOYW1lW2ldO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzaXMuYWlJbml0RmlndXJlOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZvbGwgPSB0aGlzLmFkZEZvbGxvd2UoeCAvIDgwLCB5IC8gODApO1xuICAgICAgICAgICAgZm9sbC5pbml0Q2hhciA9IHRydWU7XG4gICAgICAgICAgICByZW53dUNvbS5hZGRNeWZvbGxvdyhmb2xsKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkU2tpbHMoaSwgaiwgdHlwZSkge1xuICAgICAgICBsZXQgbm9kZSA9IG51bGxcbiAgICAgICAgaWYgKHR5cGUgPT0gJ3NraWxzMScpIHtcbiAgICAgICAgICAgIG5vZGUgPSB3eGN1ci5nZXROb2RlQm9vbCh0aGlzLnNraWxzMVBvb2wsIHRoaXMuc2tpbHMxKTtcbiAgICAgICAgICAgIG5vZGUubmFtZSA9IGDmioDog70t5o+95a6i5Yqg5by6LSR7bm9kZS5faWR9YDtcbiAgICAgICAgICAgIG5vZGUuc2tpbHNUeXBlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdza2lsczInKSB7XG4gICAgICAgICAgICBub2RlID0gd3hjdXIuZ2V0Tm9kZUJvb2wodGhpcy5za2lsczJQb29sLCB0aGlzLnNraWxzMik7XG4gICAgICAgICAgICBub2RlLm5hbWUgPSBg5oqA6IO9LeaUtuebiuWinuW8ui0ke25vZGUuX2lkfWA7XG4gICAgICAgICAgICBub2RlLnNraWxzVHlwZSA9IDI7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnc2tpbHMzJykge1xuICAgICAgICAgICAgbm9kZSA9IHd4Y3VyLmdldE5vZGVCb29sKHRoaXMuc2tpbHMzUG9vbCwgdGhpcy5za2lsczMpO1xuICAgICAgICAgICAgbm9kZS5uYW1lID0gYOaKgOiDvS3np7vliqjliqDlvLotJHtub2RlLl9pZH1gO1xuICAgICAgICAgICAgbm9kZS5za2lsc1R5cGUgPSAzO1xuICAgICAgICB9XG4gICAgICAgIC8vbm9kZS5jaGlsZHJlblswXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG5vZGUubmFtZVxuICAgICAgICBub2RlLm1hcFggPSBpO1xuICAgICAgICBub2RlLm1hcFkgPSBqO1xuXG4gICAgICAgIG5vZGUueCA9IDgwIC0gMTE2MCArIChpICogODApO1xuXG4gICAgICAgIG5vZGUueSA9IDgwICsgMTIwMCAtIChqICogODApO1xuXG4gICAgICAgIG5vZGUucGFyZW50ID0gZm9sbG93ZXJsaXN0Ll90aGlzLmZvbGxvd2VybGlzdDtcbiAgICB9LFxuICAgIGFkZEZvbGxvd2UoaSwgaikge1xuICAgICAgICBjb25zdCBmb2xsb3dlclBvb2wgPSBmb2xsb3dlcmxpc3QuX3RoaXMuZm9sbG93ZXJQb29sO1xuICAgICAgICBjb25zdCBub2RlID0gd3hjdXIuZ2V0Tm9kZUJvb2woZm9sbG93ZXJQb29sLCBmb2xsb3dlcmxpc3QuX3RoaXMuZm9sbG93ZXIpO1xuICAgICAgICBub2RlLm1hcFggPSBpO1xuICAgICAgICBub2RlLm1hcFkgPSBqO1xuICAgICAgICBub2RlLnggPSA4MCAtIDExNjAgKyAoaSAqIDgwKTtcbiAgICAgICAgbm9kZS55ID0gODAgKyAxMjAwIC0gKGogKiA4MCk7XG4gICAgICAgIG5vZGUubmFtZSA9IGDmlaMt5a6i5Lq654mpLSR7bm9kZS5faWR9YDtcbiAgICAgICAgbm9kZS5vcGVuTmFtZSA9IGJhc2lzLmdhbWVOYW1lTGlzdFtNYXRoLmZsb29yKGJhc2lzLmdhbWVOYW1lTGlzdC5sZW5ndGggKiBNYXRoLnJhbmRvbSgpKV07XG4gICAgICAgIG5vZGUucGFyZW50ID0gZm9sbG93ZXJsaXN0Ll90aGlzLmZvbGxvd2VybGlzdDtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSxcbiAgICBhZGRNaW5NYXAobGV2ZWwsIGksIGopIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMubWluTWFwTG9jKTtcbiAgICAgICAgbm9kZS5sZXZlbCA9IGxldmVsO1xuICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbm9kZS54ID0gODAgLSAxMTYwICsgKChpIC0gMSkgKiA4MCk7XG4gICAgICAgICAgICAgICAgbm9kZS55ID0gODAgKyAxMjAwIC0gKChqIC0gMSkgKiA4MCk7XG4gICAgICAgICAgICAgICAgbm9kZS53aWR0aCA9IDEwO1xuICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gNDtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIG5vZGUueCA9IDE2MCAtIDEyMDAgKyAoKGkgLSAyKSAqIDgwKTtcbiAgICAgICAgICAgICAgICBub2RlLnkgPSA4MCArIDEyMDAgLSAoKGogLSAxKSAqIDgwKTtcbiAgICAgICAgICAgICAgICBub2RlLndpZHRoID0gMTQ7XG4gICAgICAgICAgICAgICAgbm9kZS5oZWlnaHQgPSA4O1xuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgbm9kZS54ID0gMjQwIC0gMTI0MCArICgoaSAtIDMpICogODApO1xuICAgICAgICAgICAgICAgIG5vZGUueSA9IDE2MCArIDEwODAgLSAoKGogLSAyKSAqIDgwKTtcbiAgICAgICAgICAgICAgICBub2RlLndpZHRoID0gMjA7XG4gICAgICAgICAgICAgICAgbm9kZS5oZWlnaHQgPSAxMDtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIG5vZGUueCA9IDMyMCAtIDEyODAgKyAoKGkgLSA0KSAqIDgwKTtcbiAgICAgICAgICAgICAgICBub2RlLnkgPSAzMjAgKyA4NDAgLSAoKGogLSA0KSAqIDgwKTtcbiAgICAgICAgICAgICAgICBub2RlLndpZHRoID0gMjY7XG4gICAgICAgICAgICAgICAgbm9kZS5oZWlnaHQgPSAxNjtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIG5vZGUubWFwWCA9IGk7XG4gICAgICAgIG5vZGUubWFwWSA9IGo7XG4gICAgICAgIG5vZGUudHlwZU5tYWUgPSAnYm9vdGgnO1xuICAgICAgICBub2RlLnggPSBub2RlLnggKiAoMjAwIC8gYmFzaXMubWFwV2lkdGgpO1xuICAgICAgICBub2RlLnkgPSBub2RlLnkgKiAoMjQwIC8gYmFzaXMubWFwSGVpZ2h0KTtcblxuICAgICAgICBub2RlLmNoaWxkcmVuWzBdLndpZHRoID0gbm9kZS53aWR0aDtcbiAgICAgICAgbm9kZS5jaGlsZHJlblswXS5oZWlnaHQgPSBub2RlLmhlaWdodDtcblxuICAgICAgICBub2RlLnBhcmVudCA9IHRoaXMubWluTWFwXG4gICAgfSxcbiAgICBhZGRCb290aChsZXZlbCwgaSwgaikge1xuICAgICAgICBjb25zdCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5ib290aExldmVsMSk7XG4gICAgICAgIG5vZGUubGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoJ2Jvb3RoJykuaW5pdChsZXZlbCwgaSwgaik7XG4gICAgICAgIG5vZGUubmFtZSA9IGDmkYrkvY0tJHtpfS0ke2p9YDtcbiAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLnNjZW5lTWFwXG4gICAgfSxcbiAgICBhZGRNb25leSh4LCB5LCBudW0pIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHd4Y3VyLmdldE5vZGVCb29sKHRoaXMubW9uZXlQb29sLCB0aGlzLm1vbmV5KTtcbiAgICAgICAgY29uc3QgdjIgPSBjYy52MihcbiAgICAgICAgICAgIChNYXRoLnJhbmRvbSgpICogMSAtIDAuNSkgKiAxNTAsXG4gICAgICAgICAgICAoTWF0aC5yYW5kb20oKSAqIDEgLSAwLjUpICogMTUwXG4gICAgICAgIClcbiAgICAgICAgbm9kZS54ID0geDtcbiAgICAgICAgbm9kZS55ID0geTtcbiAgICAgICAgbm9kZS56SW5kZXggPSAyO1xuICAgICAgICBub2RlLm5hbWUgPSBg6ZKe56WoLSR7bm9kZS5faWR9YFxuICAgICAgICBub2RlLnBhcmVudCA9IHRoaXMuc2NlbmVNYXA7XG4gICAgICAgIFxuICAgICAgICBub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlQnkoMC4yLCB2MiksIGNjLmNhbGxGdW5jKCgpID0+IHtcbiAgICAgICAgICAgIG5vZGUuZ3JvdXAgPSAn6ZKxJztcbiAgICAgICAgfSkpKVxuXG4gICAgICAgIGlmIChudW0gPD0gYmFzaXMuYmVhdEVhY2hEcm9wTW9uZXkpIHtcbiAgICAgICAgICAgIG5vZGUubW9uZXkgPSBudW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlLm1vbmV5ID0gYmFzaXMuYmVhdEVhY2hEcm9wTW9uZXk7XG4gICAgICAgICAgICBudW0gLT0gYmFzaXMuYmVhdEVhY2hEcm9wTW9uZXk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE1vbmV5KHgsIHksIG51bSk7XG4gICAgICAgICAgICB9LCAxMDApXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICB0aGlzLmUgKz0gZHQ7XG4gICAgICAgIHRoaXMuZTIgKz0gZHQ7XG4gICAgICAgIHRoaXMuZTMgKz0gZHQ7XG4gICAgICAgIHRoaXMuZTQgKz0gZHQ7XG5cbiAgICAgICAgLy8gaWYgKHRoaXMuZSA+PSBiYXNpcy5uZXdHdWVzdFRpbWUgJiYgZ2FtZS5fdGhpcy5nYW1lU3RhcnQpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuZSA9IDA7XG4gICAgICAgIC8vICAgICB0aGlzLnJvbSh0aGlzLm1heE1hcFgsIHRoaXMubWF4TWFwWSwgMSwgMSwgJ2YnLCAnZm9sbG93ZScpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGlmICh0aGlzLmUyID49IGJhc2lzLm5ld1NraWxzMVRpbWUgJiYgZ2FtZS5fdGhpcy5nYW1lU3RhcnQpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuZTIgPSAwO1xuICAgICAgICAvLyAgICAgdGhpcy5yb20odGhpcy5tYXhNYXBYLCB0aGlzLm1heE1hcFksIDEsIDEsICdzJywgJ3NraWxzMScpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGlmICh0aGlzLmUzID49IGJhc2lzLm5ld1NraWxzMlRpbWUgJiYgZ2FtZS5fdGhpcy5nYW1lU3RhcnQpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuZTMgPSAwO1xuICAgICAgICAvLyAgICAgdGhpcy5yb20odGhpcy5tYXhNYXBYLCB0aGlzLm1heE1hcFksIDEsIDEsICdzJywgJ3NraWxzMicpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGlmICh0aGlzLmU0ID49IGJhc2lzLm5ld1NraWxzM1RpbWUgJiYgZ2FtZS5fdGhpcy5nYW1lU3RhcnQpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuZTQgPSAwO1xuICAgICAgICAvLyAgICAgdGhpcy5yb20odGhpcy5tYXhNYXBYLCB0aGlzLm1heE1hcFksIDEsIDEsICdzJywgJ3NraWxzMycpO1xuICAgICAgICAvLyB9XG4gICAgfVxufSk7XG5cbmV4cG9ydHMubWFwID0gbWFwOyJdfQ==