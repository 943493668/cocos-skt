{"version":3,"sources":["assets/script/game/devourcircle.js"],"names":["require","basis","cc","Class","Component","properties","onLoad","start","parent","node","parentCom","getComponent","onCollisionStay","other","self","renwu","group","myfollowerList","length","devourLimit","aiPerList","zhurenwuList","_id","beDevours"],"mappings":";;;;;;eAAkBA,OAAO,CAAC,OAAD;IAAjBC,iBAAAA;;AAERC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAMLC,EAAAA,MANK,oBAMI,CAER,CARI;AASLC,EAAAA,KATK,mBASG;AACJ,SAAKC,MAAL,GAAc,KAAKC,IAAL,CAAUD,MAAxB;AACA,SAAKE,SAAL,GAAiB,KAAKF,MAAL,CAAYG,YAAZ,CAAyB,OAAzB,CAAjB;AACH,GAZI;AAaLC,EAAAA,eAAe,EAAE,yBAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACpC,QAAML,IAAI,GAAGI,KAAK,CAACJ,IAAnB;AACA,QAAMM,KAAK,GAAGN,IAAI,CAACD,MAAL,CAAYG,YAAZ,CAAyB,OAAzB,CAAd;AAEA,QAAIF,IAAI,CAACO,KAAL,IAAc,OAAlB,EAA2B;AAC3B,QAAI,KAAKN,SAAL,CAAeO,cAAf,CAA8BC,MAA9B,GAAuCH,KAAK,CAACE,cAAN,CAAqBC,MAA5D,GAAqE,CAArE,IAA0EjB,KAAK,CAACkB,WAApF,EAAiG;;AAEjG,QAAIJ,KAAK,CAACE,cAAN,IAAwB,CAA5B,EAA+B;AAC3B,UAAIF,KAAK,CAACK,SAAV,EAAqB;AACjB,eAAOL,KAAK,CAACK,SAAN,CAAgBC,YAAhB,CAA6BZ,IAAI,CAACD,MAAL,CAAYc,GAAzC,CAAP;AACH;AACJ,KAJD,MAIO;AACHP,MAAAA,KAAK,CAACQ,SAAN,CAAgB,KAAKf,MAArB;AACH;AACJ;AA3BI,CAAT","sourceRoot":"/","sourcesContent":["const { basis } = require('basis');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n    onLoad() {\n\n    },\n    start() {\n        this.parent = this.node.parent;\n        this.parentCom = this.parent.getComponent('renwu');\n    },\n    onCollisionStay: function (other, self) {\n        const node = other.node;\n        const renwu = node.parent.getComponent('renwu');\n\n        if (node.group == 'ai感知圈') return;\n        if (this.parentCom.myfollowerList.length / renwu.myfollowerList.length - 1 <= basis.devourLimit) return;\n\n        if (renwu.myfollowerList == 0) {\n            if (renwu.aiPerList) {\n                delete renwu.aiPerList.zhurenwuList[node.parent._id];\n            }\n        } else {\n            renwu.beDevours(this.parent);\n        }\n    },\n});\n"]}