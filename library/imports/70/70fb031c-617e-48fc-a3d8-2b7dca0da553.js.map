{"version":3,"sources":["assets/script/game/renwu.js"],"names":["require","basis","wxcur","cc","Class","Component","properties","tx","dragonBones","ArmatureDisplay","chupenquan","Node","qipao","qipaowenan","Label","tunshiquan","zskrs","zsquanquan","zsjiantou","lizi","ainame","xunzhang","Sprite","gamelevel","gameLevelName","shengjitx","onLoad","e","e1","e2","e3","e4","e5","figureLevel","myfollowerList","myfollowerList2","kerenwuList","occBoothNodeList","mySkill","baseMovingSpeed","goldRatio","gold","openSkills1Filg","openSkills2Filg","openSkills3Filg","beAttackBooth","xiaodituw","death","node","invincible","gameStartInvTime","follLevel","devourFlag","occBooth","people1","people2","people3","people4","occBoothNum","lossMonery","generateBubbleTime","Math","random","updeDevourRadius","getComponent","CircleCollider","aiPerList","resfyd","movespeed","romTarget","setFlashing","setTx","localGrowth","radius","devourRadius","width","height","string","upFollLevel","targetMoney","active","setTimeout","name","interact","_this","wddqdj","wdmbdj","wdmbjdt","progress","wdmbms2","wdmbms3","showRadiusM","wdmbms1","parent","start","goldRnak","push","gameName","length","game","renwu","updeGold","spriteFrame","gameImgList","getSpriteFrame","myLevel","levelName","floor","imgName","myfigure","armatureName","playAnimation","gameNmae","aiRomImg","splice","console","log","updeSpeed","moveSpeedLevelAttenu","boothLevel1Glod","boothLevel2Glod","boothLevel3Glod","boothLevel4Glod","find","res","updeInter","rnak","sort","a","b","findIndex","btbaiping","wodejinbi2","youxiphmz","children","youxiphjinbi","round","setGold","i","occBoothNode","getMoney","level","aiMove","gameStart","initAiPerList","abs","x","aiTargetX","y","aiTargetY","Object","keys","jnengList","values","tanweiList","nodeCom","zhanlingzhenode","aiTargetCorrection","mubiao","targetX","targetY","angle","getAngle","yidong","combatJudge","targetNode","zhurenwuList","judge","call","_id","targetTp","mapWidth","mapHeight","aiUseSkills","resurrection","invincibleTime","aiResurrCooling","onCollisionStay","other","self","observerPattern","group","addMyfollow","addSkill","getMonery","beDevours","myFollNode","countLayer","index","layer","nlayer","PI","tan","initList","act","moveTo","v2","moenyList","runAction","sequence","callFunc","scale","zIndex","money","map","moneyPool","put","split","is_WECHAT_GAME","openvibration","wx","vibrateShort","skilsType","mapY","mapX","boothArrList","boothArr","join","s","init","getMyBooth","deleteMyBooth","zhaohuan","zhaim","getChildByName","fadeOut","opacity","distance","getDistance","summonDistance","booth","boothFollower","j","summonSpeed","openTips","aiSkil3Porbability","useSkills3","aiSkilBuiltTime","aiSkil1Porbability","useSkills1","aiSkil2Porbability","useSkills2","useSkills","currentTarget","nodeChildren","skils1Effect","scaleTo","closeSkills1","skils2Effect","closeSkills2","skils3Effect","closeSkills3","x1","y1","x2","y2","sqrt","pow","isNaN","cos","sin","yidongfig","scaleX","flashing","repeatForever","fadeIn","closeFlashing","stopAction","openBubble","txt","update","dt","yingcang","myGameStartInvin","boothGolidTimeIniter","skils1Time","skils2Time","skils3Time","devourSpeed","basedBubble"],"mappings":"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","sourceRoot":"/","sourcesContent":["const { basis } = require('basis');\nconst { wxcur } = require('weixin_ty');\n\nimport { followerlist } from './followerlist';\nimport { interact } from './interact.js';\nimport { map } from './map.js';\nimport { game } from './game.js';\nimport { music } from '../currency/music';\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        tx: dragonBones.ArmatureDisplay,\n        chupenquan: cc.Node,\n        qipao: cc.Node,\n        qipaowenan: cc.Label,\n        tunshiquan: cc.Node,\n\n        zskrs: cc.Label,\n        zsquanquan: cc.Node,\n        zsjiantou: cc.Node,\n\n        lizi: cc.Node,\n\n        ainame: cc.Label,\n        xunzhang: cc.Sprite,\n        gamelevel: cc.Label,\n        gameLevelName: cc.Label,\n        shengjitx: cc.Node\n    },\n\n    onLoad() {\n        this.e = 0;\n        this.e1 = 0;//揽客加强道具时间\n        this.e2 = 0;//增收益增道具时间\n        this.e3 = 0;//移速加强道具时间\n        this.e4 = 0;//金币时间\n        this.e5 = 0;//被吞噬时间\n        this.figureLevel = 1;//人物等级\n        this.myfollowerList = []; //带在身上的客人\n        this.myfollowerList2 = [];//所有客人\n        this.kerenwuList = [];//客人位置占领请客\n        this.occBoothNodeList = [];//占领的摊位node\n        this.mySkill = [false, false];//我的技能列表\n        this.baseMovingSpeed = 1;//基础移速\n        this.goldRatio = 1;//金币倍率\n        this.gold = 0;\n        this.openSkills1Filg = false;//揽客加强启动\n        this.openSkills2Filg = false;//增收益增启动\n        this.openSkills3Filg = false;//移速加强启动\n        this.beAttackBooth = null;//被攻击的摊位\n        this.xiaodituw = null;//我的小地图\n        this.death = false;//是否死亡\n        // if(this.node.name =='我'){\n        //     this.death = false;//是否死亡\n        // }\n        this.node.invincible = basis.gameStartInvTime;//无敌时间\n        this.follLevel = 1;//拥有的客人等级\n        this.devourFlag = false;\n        this.occBooth = {\n            people1: 0,\n            people2: 0,\n            people3: 0,\n            people4: 0,\n        }\n        this.occBoothNum = 0;\n        this.lossMonery = 0;\n        this.generateBubbleTime = Math.random() * basis.generateBubbleTime;\n\n        this.updeDevourRadius();\n        this.tunshiquan = this.tunshiquan.getComponent(cc.CircleCollider);\n\n        this.aiPerList = null;\n        this.resfyd = true;\n\n        this.movespeed = basis.movespeed;\n\n        this.romTarget();\n        this.setFlashing();\n        this.setTx();\n\n    },\n    updeDevourRadius() {\n        const localGrowth = basis.localGrowth[this.figureLevel - 1];\n        this.node.getComponent(cc.CircleCollider).radius = localGrowth.devourRadius;\n        this.zsquanquan.width = localGrowth.devourRadius * 2;\n        this.zsquanquan.height = localGrowth.devourRadius * 2;\n        this.gamelevel.string = this.figureLevel;\n    },\n    upFollLevel() {\n        if (this.figureLevel != 10 && basis.localGrowth[this.figureLevel].targetMoney <= this.gold) {\n            this.figureLevel += 1;\n            this.shengjitx.active = true;\n            setTimeout(() => {\n                this.shengjitx.active = false;\n            }, 2000)\n            this.updeDevourRadius();\n        }\n        if (this.node.name == '我' && this.figureLevel != 10) {\n            interact._this.wddqdj.string = this.figureLevel;\n            interact._this.wdmbdj.string = this.figureLevel + 1;\n            interact._this.wdmbjdt.progress =\n                (this.gold - basis.localGrowth[this.figureLevel - 1].targetMoney) / (basis.localGrowth[this.figureLevel].targetMoney - basis.localGrowth[this.figureLevel - 1].targetMoney);\n\n            interact._this.wdmbms2.string = `${this.figureLevel + 1}`;\n            interact._this.wdmbms3.string = `，揽客半径+${basis.localGrowth[this.figureLevel].showRadiusM}米`;\n        } else if (this.node.name == '我' && this.figureLevel == 10) {\n            interact._this.wddqdj.string = this.figureLevel;\n            interact._this.wdmbdj.string = '∞';\n            interact._this.wdmbjdt.progress = 1;\n            interact._this.wdmbms1.string = `已经达到最高等级`;\n            interact._this.wdmbms3.active = false;\n            interact._this.wdmbms2.node.parent.active = false;\n        }\n    },\n    start() {\n        interact._this.goldRnak.push({ name: this.node.name, gold: 0, gameName: this.node.gameName });\n\n        this.ainame.string = this.node.gameName;\n\n        if (interact._this.goldRnak.length > 3) {\n            game._this.renwu.updeGold();\n        }\n\n        if (this.node.name == '我') {\n            this.xunzhang.spriteFrame = interact._this.gameImgList.getSpriteFrame(`勋章等级${basis.myLevel}小`);\n            this.gameLevelName.string = basis.levelName[basis.myLevel - 1];\n        } else {\n            let myLevel = basis.myLevel + Math.floor(Math.random() * 3 - 1);\n            myLevel < 1 ? myLevel = 1 : myLevel > 10 ? myLevel = 10 : '';\n            this.xunzhang.spriteFrame = interact._this.gameImgList.getSpriteFrame(`勋章等级${myLevel}小`);\n            this.gameLevelName.string = basis.levelName[myLevel - 1];\n        }\n\n        this.upFollLevel()\n    },\n    setTx() {\n        if (this.node.name == '我') {\n            this.imgName = basis.myfigure.imgName;\n            this.tx.armatureName = basis.myfigure.imgName;\n            this.tx.playAnimation('行走')\n            this.node.gameName = basis.gameNmae;\n        } else {\n            this.imgName = game._this.aiRomImg[0];\n            game._this.aiRomImg.splice(0, 1);\n            this.tx.armatureName = this.imgName;\n            this.tx.playAnimation('行走')\n        }\n\n        console.log(this.imgName)\n    },\n    updeSpeed() {\n        this.movespeed = basis.movespeed - basis.moveSpeedLevelAttenu * (this.follLevel - 1);\n        this.tunshiquan.radius = 150 + (this.follLevel - 1) * 80;\n        this.tunshiquan.node.width = 300 + (this.follLevel - 1) * 160;\n        this.tunshiquan.node.height = 300 + (this.follLevel - 1) * 160;\n\n        this.zskrs.string = this.myfollowerList.length;\n    },\n    updeGold(gold) {\n        this.gold = gold || (this.occBooth.people1 * basis.boothLevel1Glod + this.occBooth.people2 * basis.boothLevel2Glod + this.occBooth.people3 * basis.boothLevel3Glod + this.occBooth.people4 * basis.boothLevel4Glod) * this.goldRatio + this.gold;\n\n        interact._this.goldRnak.find(res => res.name == this.node.name).gold = this.gold;\n\n        // if (this.node.name == '我') {\n\n        //     for (let i = 0; i < this.occBoothNodeList.length; i++) {\n        //         const node = wxcur.getNodeBool(map._this.moneyPool, map._this.money);\n        //         node.x = this.occBoothNodeList[i].x;\n        //         node.y = this.occBoothNodeList[i].y;\n        //         node.money = 0;\n        //         node.parent = map._this.sceneMap;\n\n        //         this.getMonery(node);\n        //     }\n        // };\n\n        this.upFollLevel();\n\n        this.updeInter();\n    },\n    updeInter() {\n        if (this.node.name != '我') {\n            return\n        };\n\n        const rnak = interact._this.goldRnak.sort((a, b) => b.gold - a.gold).findIndex(res => res.name == this.node.name);\n\n        this.rnak = rnak;\n\n        interact._this.btbaiping.string = `${rnak + 1}`;\n        interact._this.wodejinbi2.string = this.gold;\n\n        if (interact._this.goldRnak[0]) {\n            interact._this.youxiphmz.children[0].getComponent(cc.Label).string = interact._this.goldRnak[0].gameName;\n            interact._this.youxiphjinbi.children[0].getComponent(cc.Label).string = Math.round(interact._this.goldRnak[0].gold);\n        }\n        if (interact._this.goldRnak[1]) {\n            interact._this.youxiphmz.children[1].getComponent(cc.Label).string = interact._this.goldRnak[1].gameName;\n            interact._this.youxiphjinbi.children[1].getComponent(cc.Label).string = Math.round(interact._this.goldRnak[1].gold);\n        }\n        if (interact._this.goldRnak[2]) {\n            interact._this.youxiphmz.children[2].getComponent(cc.Label).string = interact._this.goldRnak[2].gameName;\n            interact._this.youxiphjinbi.children[2].getComponent(cc.Label).string = Math.round(interact._this.goldRnak[2].gold);\n        }\n\n        interact._this.setGold(this.gold);\n        interact._this.gold = this.gold;\n        interact._this.rnak = this.rnak + 1;\n\n        for (let i = 0; i < this.occBoothNodeList.length; i++) {\n            const occBoothNode = this.occBoothNodeList[i].getComponent('booth')\n            occBoothNode.getMoney(occBoothNode.level);\n        }\n    },\n\n    aiMove() {\n        if (!game._this.gameStart || this.death) return;\n        if (!this.aiPerList) {\n            this.initAiPerList();\n        }\n\n        if (Math.abs(Math.floor(this.node.x)) >= Math.abs(Math.floor(this.aiTargetX)) && Math.abs(Math.floor(this.node.y)) >= Math.abs(Math.floor(this.aiTargetY))) {\n            this.romTarget();\n        }\n\n\n        // if (Object.keys(this.aiPerList.zhurenwuList).length > 0) {\n        //     //看到其他玩家\n        //     //console.log(1, Object.keys(this.aiPerList.zhurenwuList).length)\n        //     this.resfyd = true;\n        //     this.beAttackBooth = null;\n        //     this.combatJudge();\n        // } else \n        if (this.beAttackBooth) {\n            //摊位受到攻击\n            //console.log(2)\n            this.aiTargetX = this.beAttackBooth.x;\n            this.aiTargetY = this.beAttackBooth.y;\n            this.beAttackBooth = null;\n        }\n        // else if (Object.keys(this.aiPerList.moenyList).length > 0) {\n        //     //看见钞票\n        //     //console.log(3)\n        //     this.aiTargetX = Object.values(this.aiPerList.moenyList)[0].x;\n        //     this.aiTargetY = Object.values(this.aiPerList.moenyList)[0].y;\n\n        // } \n        else if (Object.keys(this.aiPerList.jnengList).length > 0 && (!this.mySkill[0] || !this.mySkill[1])) {\n            //看见道具\n            //console.log(4)\n            this.aiTargetX = Object.values(this.aiPerList.jnengList)[0].x;\n            this.aiTargetY = Object.values(this.aiPerList.jnengList)[0].y;\n        } else if (Object.keys(this.aiPerList.kerenwuList).length > 0) {\n            //看见顾客\n            //console.log(5, this.node.name,this.aiPerList.kerenwuList.length)\n            this.aiTargetX = Object.values(this.aiPerList.kerenwuList)[0].x;\n            this.aiTargetY = Object.values(this.aiPerList.kerenwuList)[0].y;\n        } else if (Object.keys(this.aiPerList.tanweiList).length > 0 && this.myfollowerList.length >= 0) {\n            //看见摊位\n            const nodeCom = Object.values(this.aiPerList.tanweiList)[0].getComponent('booth')\n            if (nodeCom.zhanlingzhenode.name != this.node.name) {\n                //console.log(6,this.node.name,this.aiPerList.tanweiList.length)\n                if (this.aiTargetCorrection) {\n                    if (Math.abs(this.node.x - this.aiTargetX) < 5 && Math.abs(this.node.y - this.aiTargetY) < 5) {\n                        console.log('达到矫正目标所在，重新定位摊位')\n                        this.aiTargetCorrection = false;\n                        this.aiTargetX = Object.values(this.aiPerList.tanweiList)[0].x;\n                        this.aiTargetY = Object.values(this.aiPerList.tanweiList)[0].y;\n                    }\n                } else {\n                    this.aiTargetX = Object.values(this.aiPerList.tanweiList)[0].x;\n                    this.aiTargetY = Object.values(this.aiPerList.tanweiList)[0].y;\n\n                    if (Math.abs(this.node.x - this.aiTargetX) < 5 && Math.abs(this.node.y - this.aiTargetY) < 5) {\n                        console.log('距离过近，进行偏差处理')\n                        this.aiTargetCorrection = true;\n                        this.aiTargetX += (Math.random() - 0.5) * 5;\n                        this.aiTargetY += (Math.random() - 0.5) * 5\n                    }\n\n                    this.mubiao = '摊位';\n                }\n            }\n        } else {\n            this.mubiao = null;\n        }\n\n        let targetX = this.aiTargetX;\n        let targetY = this.aiTargetY;\n        let angle = wxcur.getAngle(this.node.x, this.node.y, targetX, targetY);\n        // if (this.node.x == targetX, this.node.y == targetY) {\n        //     console.log(111)\n        //     this.targetTp = null;\n        // }\n\n\n\n        if (!this.resfyd) return;\n        this.yidong(angle);\n    },\n    combatJudge() {\n        let targetNode;\n        for (var keys in this.aiPerList.zhurenwuList) {\n            judge.call(this, this.aiPerList.zhurenwuList[keys]);\n            if (targetNode) {\n                if (this.aiPerList) {\n                    setTimeout(() => {\n                        delete this.aiPerList.zhurenwuList[keys];\n                    }, 0)\n\n                }\n                return\n            };\n        }\n\n        function judge(node) {\n            const nodeCom = node.getComponent('renwu');\n            if (!nodeCom) {\n                console.log(node.name)\n            }\n            if (nodeCom.myfollowerList.length == this.myfollowerList.length || nodeCom.myfollowerList.length == 0) {\n                if (nodeCom.aiPerList) {\n                    delete nodeCom.aiPerList.zhurenwuList[this.node._id];\n                }\n                delete this.aiPerList.zhurenwuList[node._id];\n            } else if (nodeCom.myfollowerList.length - this.myfollowerList.length > 0 && this.targetTp != '跑') {\n                targetNode = node;\n\n                this.aiTargetX = -(node.x + 1000);\n                this.aiTargetY = -(node.x + 1000);\n                this.targetTp = '跑';\n\n                if (this.aiTargetX > (basis.mapWidth / 2) || this.aiTargetX < - (basis.mapWidth / 2)) {\n                    this.romTarget();\n                }\n\n                if (this.aiTargetY > (basis.mapHeight / 2) || this.aiTargetY < - (basis.mapHeight / 2)) {\n                    this.romTarget();\n                }\n\n                //console.log('跑');\n                if (this.mySkill[0] == '移动加强') {\n                    this.aiUseSkills(this.mySkill[0], 0)\n                } else if (this.mySkill[1] == '移动加强') {\n                    this.aiUseSkills(this.mySkill[1], 1)\n                }\n            }\n            //  else if (nodeCom.myfollowerList.length - this.myfollowerList.length < 0 && this.targetTp != '锁定') {\n            //     this.aiTargetX = node.x + Math.random() * 100\n            //     this.aiTargetY = node.y + Math.random() * 100\n\n            //     if (this.mySkill[0] == '移动加强') {\n            //         this.aiUseSkills(this.mySkill[0], 0)\n            //     } else if (this.mySkill[1] == '移动加强') {\n            //         this.aiUseSkills(this.mySkill[1], 1)\n            //     }\n            //     setTimeout(() => {\n            //         this.targetTp = '';\n            //     }, 200)\n            //     this.targetTp = '锁定';\n            // }\n        }\n    },\n    resurrection() {\n        setTimeout(() => {\n            const x = (Math.random() * 1 - 0.5) * basis.mapWidth;\n            const y = (Math.random() * 1 - 0.5) * basis.mapHeight;\n\n            this.node.active = true;\n            this.death = false;\n            this.node.x = x;\n            this.node.y = y;\n\n            this.node.invincible = basis.invincibleTime;\n\n            this.setFlashing();\n\n        }, basis.aiResurrCooling * 10000)\n    },\n    romTarget() {\n        const aiTargetX = (Math.random() - 0.5) * basis.mapWidth;\n        const aiTargetY = (Math.random() - 0.5) * basis.mapHeight;\n\n        if(Math.abs(aiTargetX - this.aiTargetX) < 50 && Math.abs(aiTargetY - this.aiTargetY)){\n            console.log('随机定位距离过近，重新定位');\n            this.romTarget();\n            return\n        }\n\n        this.aiTargetX = (Math.random() - 0.5) * basis.mapWidth;\n        this.aiTargetY = (Math.random() - 0.5) * basis.mapHeight;\n    },\n    onCollisionStay: function (other, self) {\n        const node = other.node;\n\n        if (this.node.name == '我' && basis.observerPattern) return;\n\n        if (node.invincible > 0) return;\n\n        if (node.group == '客人物') {\n            this.addMyfollow(node);\n            this.myfollowerList2.push(node);\n        }\n        if (node.group == '技能') {\n            this.addSkill(node);\n        }\n        if (node.group == '钱') {\n            this.getMonery(node);\n        }\n    },\n    beDevours(node) {\n        if (this.devourFlag) return;\n        this.devourFlag = true;\n\n        this.kerenwuList[this.myfollowerList.length - 1] = false;\n        const nodeCom = node.getComponent('renwu');\n        const myFollNode = this.myfollowerList[this.myfollowerList.length - 1];\n\n        nodeCom.addMyfollow(myFollNode);\n\n        this.initAiPerList();\n\n        this.myfollowerList.splice(this.myfollowerList.length - 1, 1);\n\n        this.countLayer(this.myfollowerList.length, 1);\n        this.updeSpeed();\n    },\n    countLayer(index, layer) {\n        let nlayer = Math.floor(360 / Math.floor(180 / (Math.PI / Math.tan((150 / 2) / (80 * (layer + 0.5))))));\n\n        if (index > nlayer) {\n            index -= nlayer;\n            layer += 1;\n            this.countLayer(index, layer)\n        } else {\n            this.follLevel = layer;\n        }\n    },\n\n    initAiPerList() {\n        console.log(this.node.name)\n        if (!this.chupenquan) return;\n\n        this.aiPerList = this.chupenquan.getComponent('aiperception').initList();\n    },\n\n    getMonery(node) {\n        // node.group = '固定';\n        node.group = 'default';\n\n        let act = null\n\n        // if (this.node.name == '我') {\n        //     node.x = 0 - (this.node.x - node.x)\n        //     node.y = 0 - (this.node.y - node.y)\n\n        //     act = cc.spawn(\n        //         cc.moveTo(0.3, cc.v2(-292, 381 - game._this.height)),\n        //         cc.scaleTo(0.3, 1.3)\n        //     )\n        //     node.zIndex = 9;\n        //     node.parent = interact._this.yingy;\n\n        //     music._this.openMusic('', 'chaopaofeidong');\n        // } else {\n        act = cc.moveTo(0.2, cc.v2(this.node.x, this.node.y))\n        //}\n\n        if (this.aiPerList) {\n            setTimeout(() => {\n                delete this.aiPerList.moenyList[node._id];\n            }, 0)\n        }\n\n        node.runAction(cc.sequence(\n            act,\n            cc.callFunc(() => {\n                node.scale = 1;\n                node.zIndex = 1;\n                this.gold += node.money;\n                this.updeInter();\n                map._this.moneyPool.put(node);\n            })\n        ))\n\n\n    },\n    addSkill(node) {\n        if (this.mySkill[0] && this.mySkill[1]) return;\n        const index = this.mySkill[0] ? 1 : 0;\n        this.mySkill[index] = node.name.split('-')[1];\n\n        if (this.node.name == '我') {\n            interact._this[`skill${index + 1}`].getComponent(cc.Sprite).spriteFrame = interact._this.gameImgList.getSpriteFrame(this.mySkill[index]);\n            interact._this[`skill${index + 1}`].name = this.mySkill[index];\n\n            if (wxcur.is_WECHAT_GAME()) {\n                if (basis.openvibration) {\n                    wx.vibrateShort();\n                }\n            }\n\n        } else {\n            //if (this.mySkill[index] != '移速加强') {\n            this.aiUseSkills(this.mySkill[index], index)\n\n            setTimeout(() => {\n                delete this.aiPerList.jnengList[node._id];\n            }, 0)\n            //}\n        }\n\n        map._this[`skils${node.skilsType}Pool`].put(node);\n\n        map._this.map[node.mapY][node.mapX] = 0;\n        map._this.boothArrList.push({ x: node.mapX, y: node.mapY });\n        map._this.boothArr.split(`,${node.mapX}_${node.mapY}__ls,`).join('');\n    },\n\n    addMyfollow(node) {\n        let s = this.kerenwuList.findIndex(res => res == false);\n\n        s < 0 ? s = this.kerenwuList.length : \"\";\n        this.kerenwuList[s] = true;\n\n        const nodeCom = node.getComponent('follower');\n        nodeCom.init(s, 100, this.node);\n        nodeCom.yidong(this.node);\n        this.myfollowerList.splice(s, 0, node);\n\n        if (this.node.name != '我') {\n            setTimeout(() => {\n                delete this.aiPerList.kerenwuList[node._id];\n            }, 0)\n        }\n\n        this.zskrs.string = this.myfollowerList.length;\n    },\n    getMyBooth(node) {\n        this.occBoothNodeList.push(node);\n    },\n    deleteMyBooth(node) {\n        const index = this.occBoothNodeList.findIndex(res => res.name == node.name);\n        this.occBoothNodeList.splice(index, 1);\n    },\n    zhaohuan() {\n        const zhaim = this.node.getChildByName('召唤');\n        zhaim.active = true;\n        zhaim.runAction(cc.sequence(\n            cc.fadeOut(0.5),\n            cc.callFunc(() => {\n                zhaim.opacity = 255\n                zhaim.active = false\n            })\n        ))\n\n\n        for (let i = this.occBoothNodeList.length - 1; i >= 0; i--) {\n            const node = this.occBoothNodeList[i]\n            const distance = this.getDistance(node.x, node.y, this.node.x, this.node.y);\n            console.log(distance)\n            if (distance > basis.summonDistance) continue;\n            const booth = node.getComponent('booth');\n            const boothFollower = booth.boothFollower;\n\n\n\n            for (let j = 0; j < boothFollower.length; j++) {\n                this.addMyfollow(boothFollower[j].node);\n                this.occBooth[`people${node.level}`] -= 1;\n                boothFollower[j].getComponent('follower').summonSpeed = basis.summonSpeed;\n            }\n\n            // booth.baitandonghu.active = false;\n            // booth.zhanlingzhenode = '';\n            // booth.boothFollower = [];\n            // booth.deleteMinBooth();\n\n            // this.occBoothNodeList.splice(i, 1);\n\n            if (this.node.name == '我') {\n                // this.occBoothNum -= 1;\n                // interact._this.updaHaveBooth(this.occBoothNum);\n                interact._this.openTips('召唤')\n            }\n        }\n    },\n    aiUseSkills(name, index) {\n\n        if (name == '移动加强') {\n            if (Math.random() < basis.aiSkil3Porbability) {\n                this.mySkill[index] = false;\n\n                this.useSkills3();\n            } else {\n                setTimeout(() => {\n                    this.aiUseSkills(name, index);\n                }, basis.aiSkilBuiltTime * 1000)\n            }\n        } else if (name == '揽客加强') {\n            if (Math.random() < basis.aiSkil1Porbability) {\n                this.mySkill[index] = false;\n                this.useSkills1();\n            } else {\n                setTimeout(() => {\n                    this.aiUseSkills(name, index);\n                }, basis.aiSkilBuiltTime * 1000)\n            }\n        } else if (name == '收益增强') {\n            if (Math.random() < basis.aiSkil2Porbability) {\n                this.mySkill[index] = false;\n                this.useSkills2();\n            } else {\n                setTimeout(() => {\n                    this.aiUseSkills(name, index);\n                }, basis.aiSkilBuiltTime * 1000)\n            }\n        }\n    },\n    useSkills(e) {\n        const node = e.currentTarget;\n        const nodeChildren = node.children[0];\n\n        if (node.name == '技能槽1') {\n            this.mySkill[0] = false;\n        } else {\n            this.mySkill[1] = false;\n        }\n\n        if (nodeChildren.name == '移动加强') {\n            this.useSkills3(node);\n        } else if (nodeChildren.name == '揽客加强') {\n            this.useSkills1(node);\n        } else if (nodeChildren.name == '收益增强') {\n            this.useSkills2(node);\n        }\n\n        if (this.node.name == '我') {\n            nodeChildren.getComponent(cc.Sprite).spriteFrame = '';\n            nodeChildren.name = '';\n        }\n    },\n    useSkills1(node) {\n        this.node.getComponent(cc.CircleCollider).radius = basis.devourRadius * basis.skils1Effect;\n\n        this.openSkills1Filg = true;\n        this.e1 = 0;\n\n        this.zsquanquan.runAction(cc.sequence(\n            cc.scaleTo(0.2, basis.skils1Effect),\n            cc.callFunc(() => {\n                this.node.getChildByName('吸附').active = true;\n            })\n        ))\n\n        if (this.node.name == '我') {\n            interact._this.openTips('揽客')\n        }\n    },\n    closeSkills1() {\n        this.node.getComponent(cc.CircleCollider).radius = basis.devourRadius;\n\n        this.zsquanquan.runAction(\n            cc.scaleTo(0.2, 1)\n        )\n\n        this.node.getChildByName('吸附').active = false;\n\n        this.openSkills1Filg = false;\n        this.e1 = 0;\n    },\n    useSkills2(node) {\n        this.goldRatio = basis.skils2Effect;\n        this.openSkills2Filg = true;\n        this.e2 = 0;\n\n        this.node.getChildByName('收益增强').active = true;\n\n        if (this.node.name == '我') {\n            interact._this.openTips('收益')\n        }\n    },\n    closeSkills2() {\n        this.goldRatio = 1;\n        this.openSkills2Filg = false;\n        this.e2 = 0;\n\n        this.node.getChildByName('收益增强').active = false;\n    },\n    useSkills3(node) {\n        this.baseMovingSpeed = basis.skils3Effect;\n        this.openSkills3Filg = true;\n        this.e3 = 0;\n\n        this.node.getChildByName('拖尾').active = true;\n\n        if (this.node.name == '我') {\n            interact._this.openTips('加速')\n        }\n    },\n    closeSkills3() {\n\n        this.node.getChildByName('拖尾').active = false;\n        this.baseMovingSpeed = 1;\n        this.openSkills3Filg = false;\n        this.e3 = 0;\n    },\n\n\n    getDistance(x1, y1, x2, y2) {\n        return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n    },\n    yidong(angle) {\n        if (this.death) return;\n        const node = this.node;\n\n        if (isNaN(angle)) return;\n\n        let { x, y } = 0;\n\n        y = this.y = Math.cos(angle * 2 * Math.PI / 360) * this.movespeed * this.baseMovingSpeed;\n        x = this.x = Math.sin(angle * 2 * Math.PI / 360) * this.movespeed * this.baseMovingSpeed;\n\n        if (node.x + x > (basis.mapWidth / 2) || node.x + x < - (basis.mapWidth / 2)) {\n            node.x = x > 0 ? (basis.mapWidth / 2) : - (basis.mapWidth / 2);\n        } else {\n            node.x += x;\n        }\n\n        if (node.y + y > (basis.mapHeight / 2) || node.y + y < - (basis.mapHeight / 2)) {\n            node.y = y > 0 ? (basis.mapHeight / 2) : - (basis.mapHeight / 2);\n        } else {\n            node.y += y;\n        }\n\n        this.node.yidongfig = true;\n\n        this.xiaodituw.x = node.x * (200 / basis.mapWidth);\n        this.xiaodituw.y = node.y * (240 / basis.mapHeight);\n\n        this.zsjiantou.angle = -angle;\n\n        //this.lizi.angle = -angle;\n        this.zsjiantou.x = Math.sin(angle * 2 * Math.PI / 360) * (this.zsquanquan.width / 2 - 17)\n        this.zsjiantou.y = Math.cos(angle * 2 * Math.PI / 360) * (this.zsquanquan.width / 2 - 17)\n\n        if (angle > 180) {\n            if (this.node.name == '我') {\n                this.tx.node.scaleX = -0.5\n            } else {\n                this.tx.node.scaleX = -0.5\n            }\n\n        } else {\n            if (this.node.name == '我') {\n                this.tx.node.scaleX = 0.5\n            } else {\n                this.tx.node.scaleX = 0.5\n            }\n        }\n    },\n    setFlashing() {\n        this.flashing = this.node.runAction(cc.repeatForever(\n            cc.sequence(\n                cc.fadeOut(0.5),\n                cc.fadeIn(0.5)\n            )\n        ));\n    },\n    closeFlashing() {\n\n        this.node.stopAction(this.flashing);\n        this.node.opacity = 255;\n    },\n    openBubble(txt) {\n        this.qipaowenan.string = txt;\n\n        this.qipao.active = true;\n        this.qipao.runAction(cc.sequence(\n            cc.fadeIn(0.2),\n            cc.fadeIn(2),\n            cc.fadeOut(0.2),\n            cc.callFunc(() => {\n                this.qipao.active = false;\n            })\n        ))\n    },\n    update(dt) {\n        if (this.node.name != '我') {\n            this.aiMove();\n            game._this.yingcang(this.node);\n        }\n\n        if (!game._this.gameStart) return;\n\n        if (this.node.invincible > 0) {\n            if (this.node.name == '我' && basis.myGameStartInvin) {\n\n            } else {\n                this.node.invincible -= dt;\n                if (this.node.invincible <= 0) {\n                    this.closeFlashing();\n                }\n            };\n        }\n\n        this.e4 += dt;\n\n        if (this.e4 >= basis.boothGolidTimeIniter && game._this.gameStart) {\n            this.e4 = 0;\n            this.updeGold();\n        }\n\n        if (this.openSkills1Filg) {\n            this.e1 += dt;\n            if (this.e1 >= basis.skils1Time) {\n                this.openSkills1Filg = false;\n                this.closeSkills1();\n            }\n        }\n\n        if (this.openSkills2Filg) {\n            this.e2 += dt;\n            if (this.e2 >= basis.skils2Time) {\n                this.openSkills2Filg = false;\n                this.closeSkills2();\n            }\n        }\n\n        if (this.openSkills3Filg) {\n            this.e3 += dt;\n            if (this.e3 >= basis.skils3Time) {\n                console.log('结束')\n                this.closeSkills3();\n            }\n        }\n\n        if (this.devourFlag) {\n            this.e5 += dt;\n            if (this.e5 >= basis.devourSpeed) {\n                this.e5 = 0;\n                this.devourFlag = false;\n            }\n        }\n\n        if (this.qipao.active) return;\n        this.e += dt;\n        if (this.e >= this.generateBubbleTime) {\n            this.generateBubbleTime = Math.random() * basis.generateBubbleTime;\n            this.e = 0;\n            const txt = basis.basedBubble[Math.floor(Math.random() * basis.basedBubble.length)];\n            this.openBubble(txt)\n        }\n    }\n});\n"]}