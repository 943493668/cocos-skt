{"version":3,"sources":["assets/script/game/booth.js"],"names":["require","wxcur","basis","cc","Class","Component","properties","showImg","Sprite","jindu","Label","baitandonghu","Node","diban","onLoad","zhanlingzhenode","boothFollower","node","yidongfig","zhanjindut","e","zhengdFilg","zhanling","start","minBooth","getMinBooth","scale","width","onCollisionEnter","other","self","group","nodeCom","getComponent","_id","zhanlziszai","name","interact","_this","zhanyzs","stopAllActions","runAction","repeatForever","sequence","spawn","scaleBy","fadeTo","color","Color","beAttackBooth","openWarning","gameName","onCollisionStay","zlznodeCom","observerPattern","undefined","console","log","ainame","string","chupenquan","list","tanweiList","resfyd","mubiao","active","occBooth","level","length","deleteMyBooth","zhanywz","fontSize","occBoothNum","updaHaveBooth","fadeOut","callFunc","opacity","occuSuccess","zhanyjdt","wobz","children","music","openMusic","onCollisionExit","minMapLocColor","x","initX","y","initY","renwu","followerList","myfollowerList","i2","demandNum","i","tx","armatureName","imgName","playAnimation","s","follower","kerenwuList","tagIndex","push","init","splice","romTarget","is_WECHAT_GAME","openvibration","wx","vibrateLong","scaleTo","addMinBooth","getMyBooth","countLayer","updeSpeed","spriteFrame","gameImgList","getSpriteFrame","boothLevel","deleteMinBooth","map","minMap","find","res","mapY","mapX","j","collider","BoxCollider","Math","ceil","random","scaleX","scaleY","height","size","getMoney","getNodeBool","moneyPool","money","game","parent","yingy","moveTo","v2","put","setTimeout","update","dt","yingcang","key","num"],"mappings":"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","sourceRoot":"/","sourcesContent":["\nconst { wxcur } = require('weixin_ty');\nconst { basis } = require('basis');\n\nimport { map } from './map.js';\nimport { interact } from './interact.js'\nimport { game } from './game.js'\nimport { music } from '../currency/music.js';\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        showImg: cc.Sprite,\n        jindu: cc.Label,\n        baitandonghu: cc.Node,\n        diban: cc.Node\n    },\n\n    onLoad() {\n        this.zhanlingzhenode = '';\n        this.boothFollower = []; //这个摊位上的客人\n        this.node.yidongfig = true;\n        this.zhanjindut = {};\n        this.e = 0;\n        this.zhengdFilg = false;\n        this.zhanling = {};\n    },\n    start() {\n        this.minBooth = this.getMinBooth();\n        this.baitandonghu.scale = this.node.width / 80 * 0.2;\n    },\n    onCollisionEnter: function (other, self) {\n        if (other.node.group != '主人物') return;\n\n        const node = other.node;\n        const nodeCom = node.getComponent('renwu');\n\n        if (this.zhanlingzhenode && this.zhanjindut[this.zhanlingzhenode._id]) {\n            this.zhanlziszai = true\n            return\n        }\n\n        this.zhanjindut[node._id] = 0;\n\n        //if (node.yidongfig) return\n\n\n        if (node.name == '我' && this.zhanlingzhenode.name != '我') {\n            interact._this.zhanyzs.stopAllActions()\n            this.diban.runAction(cc.repeatForever(cc.sequence(\n                cc.spawn(\n                    cc.scaleBy(0.4, 1.1),\n                    cc.fadeTo(0.4, 125)\n                ),\n                cc.spawn(\n                    cc.scaleBy(0.4, 0.9),\n                    cc.fadeTo(0.4, 255)\n                )\n            )));\n            this.diban.color = new cc.Color(255, 255, 0, 255);\n\n        } else if (node.name != '我' && this.zhanlingzhenode.name != node.name) {\n            if (this.zhanlingzhenode) {\n                this.zhanlingzhenode.getComponent('renwu').beAttackBooth = this.node;\n\n                if (this.zhanlingzhenode.name == '我') {\n\n                    interact._this.openWarning(nodeCom.gameName);\n\n                    this.diban.runAction(cc.repeatForever(cc.sequence(\n                        cc.spawn(\n                            cc.scaleBy(0.4, 1.1),\n                            cc.fadeTo(0.4, 125)\n                        ),\n                        cc.spawn(\n                            cc.scaleBy(0.4, 0.9),\n                            cc.fadeTo(0.4, 255)\n                        )\n                    )));\n                    this.diban.color = new cc.Color(255, 0, 0, 255);\n                }\n            }\n        }\n\n    },\n    onCollisionStay: function (other, self) {\n        if (other.node.group != '主人物') return;\n        const node = other.node;\n        const nodeCom = node.getComponent('renwu');\n\n        this.zlznodeCom = nodeCom;\n\n        if (this.zhanlingzhenode._id == node._id) {\n            this.zhanlziszai = true\n            this.zhanjindut = {};\n            return\n        }\n        if (node.name == '我' && basis.observerPattern) return;\n        if (this.zhanjindut[node._id] == undefined) {\n            if (this.zhanlziszai) {\n                console.log(nodeCom.ainame.string,nodeCom.chupenquan.getComponent('aiperception').list.tanweiList,this.node._id)\n                nodeCom.resfyd = true;\n                delete nodeCom.chupenquan.getComponent('aiperception').list.tanweiList[this.node._id];\n            }\n            return\n        };\n        if (node.name == '我' || (nodeCom && nodeCom.mubiao == '摊位')) {\n            if (node.name == '我' && this.zhanlingzhenode.name != '我') {\n\n                this.zhanling[node._id] = true;\n\n                // this.zhengdFilg = true;\n\n\n\n                interact._this.zhanyzs.active = true;\n\n                if (this.zhanjindut[node._id] >= 100) {\n                    console.log('占领成功')\n                    if (this.zhanlingzhenode) {\n                        this.zhanlingzhenode.getComponent('renwu').occBooth[`people${this.level}`] -= this.boothFollower.length;\n                        this.zhanlingzhenode.getComponent('renwu').deleteMyBooth(this.node);\n                    }\n\n                    this.zhanjindut[node._id];\n\n                    this.zhanlingzhenode = node;\n                    interact._this.zhanywz.string = '占领成功';\n                    interact._this.zhanywz.node.color = new cc.Color(176, 134, 35, 255);\n                    interact._this.zhanywz.fontSize = 30;\n\n                    nodeCom.occBoothNum += 1;\n\n                    interact._this.updaHaveBooth(nodeCom.occBoothNum);\n                    interact._this.zhanyzs.runAction(cc.sequence(\n                        cc.fadeOut(0.5),\n                        cc.callFunc(() => {\n                            interact._this.zhanywz.node.color = new cc.Color(255, 255, 255, 255);\n                            interact._this.zhanywz.fontSize = 24;\n                            interact._this.zhanyzs.opacity = 255;\n                            interact._this.zhanyzs.active = false;\n                            interact._this.zhanywz.string = '占领摊位中';\n                        })\n                    ))\n\n                    this.occuSuccess(node)\n                } else {\n                    interact._this.zhanyjdt.width = this.zhanjindut[node._id] / 100 * interact._this.zhanyzs.width;\n                }\n            } else if (node.name != '我' && this.zhanlingzhenode.name != node.name) {\n                //if (nodeCom.myfollowerList.length == 0) return;\n\n                this.zhanling[node._id] = true;\n\n                this.jindu.string = this.zhanjindut[node._id] + '%'\n\n                nodeCom.resfyd = false;\n\n\n\n                if (this.zhanlingzhenode.name == '我' && !this.wobz) {\n                    this.minBooth.color = new cc.Color(255, 0, 0);\n                    this.minBooth.children[0].active = true;\n                    this.wobz = true;\n                    music._this.openMusic('', 'jinggaosheng')\n                }\n\n                if (this.zhanjindut[node._id] >= 100) {\n                    if (this.zhanlingzhenode) {\n                        this.zhanlingzhenode.getComponent('renwu').occBooth[`people${this.level}`] -= this.boothFollower.length;\n                        this.zhanlingzhenode.getComponent('renwu').deleteMyBooth(this.node);\n\n                        if (this.zhanlingzhenode.name == '我') {\n                            this.diban.stopAllActions();\n                            this.diban.runAction(cc.sequence(cc.scaleBy(0.4, 0.9), cc.fadeTo(0, 255)));\n                            this.diban.color = new cc.Color(0, 0, 0, 255);\n                        }\n                    }\n\n                    this.minBooth.children[0].active = false;\n                    this.wobz = false;\n\n                    this.zhanlingzhenode = node;\n                    this.occuSuccess(node)\n                }\n            }\n        }\n    },\n\n    onCollisionExit: function (other, self) {\n        if (other.node.group != '主人物') return;\n\n        const node = other.node;\n\n        if (this.zhanlingzhenode._id == node._id) {\n            this.zhanlziszai = false\n            return\n        }\n\n        if (node.name == '我') {\n            interact._this.zhanyzs.active = false;\n            interact._this.zhanyjdt.width = 0;\n\n            this.diban.stopAllActions();\n            this.diban.runAction(cc.sequence(cc.scaleBy(0.4, 0.9), cc.fadeTo(0, 255)));\n            if (this.zhanlingzhenode.name != '我') {\n                this.diban.color = new cc.Color(0, 0, 0, 255);\n            }\n        } else {\n            node.getComponent('renwu').resfyd = true;\n            if (this.zhanlingzhenode) {\n                if (this.zhanlingzhenode.name == '我') {\n                    this.minBooth.color = new cc.Color(88, 124, 69, 255);\n                    this.diban.stopAllActions();\n                    this.diban.runAction(cc.sequence(cc.scaleBy(0.4, 0.9), cc.fadeTo(0, 255)));\n                    if (this.zhanlingzhenode.name != '我') {\n                        this.diban.color = new cc.Color(0, 0, 0, 255);\n                    }\n                } else {\n                    this.minBooth.color = this.zhanlingzhenode.minMapLocColor;\n                }\n            }\n            this.minBooth.children[0].active = false;\n        }\n\n        this.zhengdFilg = false;\n        this.zhanling[node._id] = false;\n        this.e = 0;\n        this.showImg.node.x = this.initX;\n        this.showImg.node.y = this.initY;\n        delete this.zhanjindut[node._id];\n        this.wobz = false;\n    },\n\n    occuSuccess(node) {\n        const renwu = node.getComponent('renwu');\n        const followerList = renwu.myfollowerList;\n        const length = followerList.length - 1;\n        let i2 = 0;\n\n        let demandNum = this.level == 1 ? 4 : this.level == 2 ? 6 : this.level == 3 ? 10 : 16;\n\n        demandNum > (followerList.length + this.boothFollower.length) ? demandNum = followerList.length + this.boothFollower.length : '';\n\n        renwu.occBooth[`people${this.level}`] += this.boothFollower.length;\n\n        for (let i = 0; i < demandNum; i++) {\n            if (i < this.boothFollower.length) {\n                this.boothFollower[i].getComponent('follower').tx.armatureName = renwu.imgName;\n                this.boothFollower[i].getComponent('follower').tx.playAnimation('行走');\n                continue;\n            }\n\n            const s = length - i2;\n            const follower = followerList[s].getComponent('follower');\n\n            renwu.occBooth[`people${this.level}`] += 1;\n\n            renwu.kerenwuList[followerList[s].tagIndex] = false;\n\n            this.boothFollower.push(follower);\n\n            follower.init(i + 1, 100, this.node);\n            followerList.splice(s, 1);\n\n            i2++;\n        }\n\n        if (node.name != '我') {\n            renwu.resfyd = true;\n            renwu.romTarget();\n            this.baitandonghu.active = false;\n        } else {\n            if (wxcur.is_WECHAT_GAME()) {\n                if (basis.openvibration) {\n                    wx.vibrateLong();\n                }\n            }\n            this.node.runAction(cc.sequence(\n                cc.scaleTo(0.15, 1.2),\n                cc.scaleTo(0.3, 0.8),\n                cc.scaleTo(0.15, 1),\n                cc.callFunc(() => {\n                    if (this.boothFollower.length != 0) {\n                        this.baitandonghu.active = true;\n                    }\n                })\n            ))\n            //music._this.openMusic('', 'qztwchengg');\n        }\n\n        this.addMinBooth(node);\n\n        this.zhengdFilg = false;\n        this.zhanling[node._id] = false;\n        this.e = 0;\n        this.showImg.node.x = this.initX;\n        this.showImg.node.y = this.initY;\n\n        renwu.getMyBooth(this.node);\n\n        renwu.countLayer(followerList.length, 1);\n        renwu.updeSpeed();\n    },\n    addMinBooth(node) {\n        if (node.name == '我') {\n            this.minBooth.color = new cc.Color(176, 134, 35, 255);\n            this.showImg.spriteFrame = interact._this.gameImgList.getSpriteFrame(`摊位${this.level}_00${this.boothLevel}`);\n        } else {\n            this.minBooth.color = node.minMapLocColor;\n            this.showImg.spriteFrame = interact._this.gameImgList.getSpriteFrame(`摊位${this.level}_00${this.boothLevel}_02`);\n        }\n    },\n    deleteMinBooth() {\n        this.minBooth.color = new cc.Color(139, 137, 127);\n        this.showImg.spriteFrame = interact._this.gameImgList.getSpriteFrame(`摊位${this.level}_00${this.boothLevel}_02`);\n    },\n    getMinBooth() {\n        const minBooth = map._this.minMap.children.find(res => {\n            return res.mapY == this.mapY && res.mapX == this.mapX\n        });\n\n        return minBooth;\n    },\n    init(level, i, j) {\n        const node = this.node;\n        const collider = node.getComponent(cc.BoxCollider);\n        if (level == 1) {\n            this.boothLevel = Math.ceil(Math.random() * 3);\n            this.diban.scale = 1;\n        } else if (level == 2) {\n            this.boothLevel = Math.ceil(Math.random() * 7);\n            this.diban.scaleX = 2;\n            this.diban.scaleY = 1;\n        } else if (level == 3) {\n            this.boothLevel = Math.ceil(Math.random() * 6);\n            this.diban.scaleX = 3;\n            this.diban.scaleY = 2;\n        } else if (level == 4) {\n            this.boothLevel = Math.ceil(Math.random() * 4);\n            this.diban.scaleX = 4;\n            this.diban.scaleY = 4;\n        }\n\n        this.showImg.spriteFrame = interact._this.gameImgList.getSpriteFrame(`摊位${level}_00${this.boothLevel}_02`);\n\n        this.level = level;\n        this.mapX = i;\n        this.mapY = j;\n\n        switch (level) {\n            case 1:\n                node.x = 80 - 1160 + ((i - 1) * 80);\n                node.y = 80 + 1200 - ((j - 1) * 80);\n                break\n            case 2:\n                node.x = 160 - 1200 + ((i - 2) * 80);\n                node.y = 80 + 1200 - ((j - 1) * 80);\n                node.width = 160;\n                break\n            case 3:\n                node.x = 240 - 1240 + ((i - 3) * 80);\n                node.y = 160 + 1080 - ((j - 2) * 80);\n                node.width = 240;\n                node.height = 160;\n                break\n            case 4:\n                node.x = 320 - 1280 + ((i - 4) * 80);\n                node.y = 320 + 840 - ((j - 4) * 80);\n                node.width = 320;\n                node.height = 320;\n                break\n        }\n\n        this.initX = this.showImg.node.x;\n        this.initY = this.showImg.node.y;\n        collider.size.width = node.width;\n        collider.size.height = node.height;\n    },\n    getMoney(i) {\n        if (this.node.opacity == 0) return;\n        i -= 1;\n        const node = wxcur.getNodeBool(map._this.moneyPool, map._this.money);\n        node.x = this.node.x - game._this.renwu.node.x;\n        node.y = this.node.y - game._this.renwu.node.y;\n        node.scale = 1.2;\n        node.parent = interact._this.yingy;\n        node.runAction(cc.sequence(\n            cc.moveTo(0.2, cc.v2(node.x + (Math.random() * 2 - 1) * 50, node.y + (Math.random() - 0.5) * 50)),\n            cc.moveTo(0.2, cc.v2(-295.082, 335.011)),\n            cc.scaleTo(0.1, 1.6),\n            cc.scaleTo(0.1, 1.2),\n            cc.callFunc(() => {\n                map._this.moneyPool.put(node);\n            })\n        ))\n        if (i > 0) {\n            setTimeout(() => {\n                this.getMoney(i);\n            }, 100)\n        }\n    },\n    update(dt) {\n        game._this.yingcang(this.node);\n        if (this.zhengdFilg) {\n            this.e += dt;\n            if (this.showImg.node.x < this.initX) {\n                this.showImg.node.x += Math.random() * 5;\n            } else {\n                this.showImg.node.x -= Math.random() * 5;\n            }\n            if (this.showImg.node.y < this.initY) {\n                this.showImg.node.y += Math.random() * 5;\n            } else {\n                this.showImg.node.y -= Math.random() * 5;\n            }\n        }\n        for (let key in this.zhanling) {\n            if (this.zhanling[key]) {\n                let num = basis[`booth${this.level}OccupySpeed`][1] - basis[`booth${this.level}GuestProvideSpeed`] * (this.zlznodeCom.myfollowerList.length - this.boothFollower.length);\n\n                num < basis[`booth${this.level}OccupySpeed`][0] ? num = basis[`booth${this.level}OccupySpeed`][0] : ''\n                if (this.zhanjindut[key] >= 0) {\n                    this.zhanjindut[key] += (dt / num) * 100;\n                }\n            }\n        }\n    }\n});\n"]}