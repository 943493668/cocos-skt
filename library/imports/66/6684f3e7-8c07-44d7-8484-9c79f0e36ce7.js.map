{"version":3,"sources":["assets/script/currency/weixin_ty.js"],"names":["wxcur","webserver","POPUPFLAG","butshare","butsharetxt","butshareimageUrl","butsharequery","shareAppType","init","data","wx","showShareMenu","withShareTicket","popup","node","popupBg","console","log","active","bg","parent","getChildByName","scale","runAction","cc","sequence","scaleTo","callFunc","deepCopy","type","Object","prototype","toString","call","obj","i","length","push","ajax","url","method","header","that","Promise","resolve","reject","request","success","res","fail","err","author","zuobiao","left","top","width","getSystemInfoSync","windowWidth","height","windowHeight","getSetting","authSetting","button","hide","createUserInfoButton","text","style","onTap","errMsg","wx_login","login","share","shareAppMessage","title","imageUrl","query","shareQQZone","righttopshare","getwxurl","loader","load","texture","getByteLen","val","num","len","cl","a","charAt","match","getByteLength","getAngle","px","py","mx","my","x","Math","abs","y","z","sqrt","pow","cos","radina","acos","angle","floor","PI","digitalConversion","xsd","Number","toFixed","setNodeBool","prefab","enemyPool","NodePool","put","instantiate","getNodeBool","Prefab","enemy","size","get","is_WECHAT_GAME","sys","platform","WECHAT_GAME","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["\n\nconst wxcur = {\n    webserver: '',\n    POPUPFLAG: true,\n    butshare: {\n        butsharetxt: '',\n        butshareimageUrl: '',\n        butsharequery: '',\n        shareAppType: '',\n    },\n    init(data) {\n        wx.showShareMenu({\n            withShareTicket: true\n        })\n    },\n    popup(node, popupBg = true) {\n        console.log(this.POPUPFLAG)\n        if (!this.POPUPFLAG) return;\n        this.POPUPFLAG = false;\n        node.active = !node.active;\n\n        if (popupBg) {\n            const bg = node.parent.getChildByName('bg');\n            bg.active = !bg.active;\n        }\n\n        if (!node.active) {\n            this.POPUPFLAG = true\n        }\n\n        const scale = node.scale;\n\n        if (node.active) {\n            node.scale = 0;\n            node.runAction(cc.sequence(cc.scaleTo(0.2, scale), cc.callFunc(() => { this.POPUPFLAG = true })));\n        }\n    },\n    deepCopy(data) {\n        const type = Object.prototype.toString.call(data);\n        if (type == \"[object Array]\") {\n            const obj = [];\n            for (let i = 0; i < data.length; i++) {\n                obj.push(this.deepCopy(data[i]));\n            }\n            return obj;\n        } else if (type == \"[object Object]\") {\n            const obj = {};\n            for (let i in data) {\n                obj[i] = this.deepCopy(data[i]);\n            }\n            return obj;\n        } else {\n            return data;\n        }\n    },\n    ajax(url, data = {}, method = 'GET', header = { 'content-type': 'application/json' }) {\n        const that = this;\n        return new Promise((resolve, reject) => {\n            wx.request({\n                url: that.webserver + url,\n                data: data,\n                method: method,\n                header: header,\n                success(res) {\n                    resolve(res.data);\n                },\n                fail(err) {\n                    reject(err);\n                }\n            })\n        })\n    },\n    author(zuobiao = { left: 0, top: 0, width: wx.getSystemInfoSync().windowWidth, height: wx.getSystemInfoSync().windowHeight }) {\n        const that = this;\n        return new Promise((resolve, reject) => {\n            wx.getSetting({\n                success(res) {\n                    console.log(res)\n                    if (res.authSetting[\"scope.userInfo\"]) {\n                        resolve(res);\n                        return\n                    }\n                    // 授权BUTTON\n                    if(that.button){\n                        that.button.hide()\n                    }\n\n                    var button =  that.button = wx.createUserInfoButton({\n                        type: 'text',\n                        text: '',\n                        style: {\n                            left: zuobiao.left,\n                            top: zuobiao.top,\n                            width: zuobiao.width,\n                            height: zuobiao.height,\n                        }\n                    });\n                    button.onTap((res) => {\n                        console.log(res);\n                        if (res.errMsg == 'getUserInfo:ok') {\n                            resolve(res);\n                        } else {\n                            reject(res);\n                        }\n                        button.hide()\n                    })\n                }\n            })\n        })\n    },\n    wx_login() {\n        return new Promise((resolve, reject) => {\n            wx.login({\n                success(res) {\n                    resolve(res);\n                },\n                fail(err) {\n                    reject(err);\n                }\n            })\n        })\n    },\n    share(data = this.butshare) {\n        wx.shareAppMessage({\n            title: data.butsharetxt,\n            imageUrl: data.butshareimageUrl,\n            query: data.butsharequery,\n            shareAppType: data.shareAppType,\n            success: data.success ? data.success : function () { },\n            fail: data.fail ? data.fail : function () { }\n        })\n    },\n    shareQQZone(data = this.butshare) {\n        wx.shareAppMessage({\n            title: data.butsharetxt,\n            imageUrl: data.butshareimageUrl,\n            query: data.butsharequery,\n            shareAppType: 'qzone',\n            success: data.success ? data.success : function () { },\n            fail: data.fail ? data.fail : function () { }\n        })\n    },\n    righttopshare(data = this.butshare) {\n        return {\n            title: data.butsharetxt,\n            imageUrl: data.butshareimageUrl,\n            query: data.butsharequery\n        }\n    },\n    getwxurl(url) {\n        return new Promise((resolve, reject) => {\n            cc.loader.load(url + '?aaa=aa.jpg', function (err, texture) {\n                if (err) {\n                    console.log(err, \"err\")\n                    reject(err);\n                    return;\n                }\n                resolve(texture);\n            })\n        })\n    },\n    getByteLen(val, num = 10) { //获取字节长度\n        var len = 0;\n        var cl = '';\n        for (var i = 0; i < val.length; i++) {\n            if (len >= num) {\n                return cl + '...';\n            }\n            var a = val.charAt(i);\n            if (a.match(/[^\\x00-\\xff]/ig) != null) {\n                len += 2;\n            }\n            else {\n                len += 1;\n            }\n            cl += a;\n        }\n        return cl;\n    },\n    getByteLength(val) {\n        var len = 0;\n        for (var i = 0; i < val.length; i++) {\n            var a = val.charAt(i);\n            if (a.match(/[^\\x00-\\xff]/ig) != null) {\n                len += 2;\n            }\n            else {\n                len += 1;\n            }\n        }\n        return len;\n    },\n    getAngle(px, py, mx, my) {//获得人物中心和鼠标坐标连线，与y轴正半轴之间的夹角\n        var x = Math.abs(px - mx);\n        var y = Math.abs(py - my);\n        var z = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n        var cos = y / z;\n        var radina = Math.acos(cos);//用反三角函数求弧度\n        var angle = Math.floor(180 / (Math.PI / radina));//将弧度转换成角度\n\n        if (mx > px && my < py) {//鼠标在第四象限\n            angle = 180 - angle;\n        }\n        if (mx == px && my < py) {//鼠标在y轴正方向上\n            angle = 180;\n        }\n        if (mx == px && my > py) {//鼠标在y轴负方向上\n            angle = 360;\n        }\n        if (mx > px && my == py) {//鼠标在x轴正方向上\n            angle = 90;\n        }\n        if (mx < px && my < py) {//鼠标在第三象限\n            angle = 180 + angle;\n        }\n        if (mx < px && my == py) {//鼠标在x轴负方向\n            angle = 270;\n        }\n        if (mx < px && my > py) {//鼠标在第二象限\n            angle = 360 - angle;\n        }\n\n        return angle;\n    },\n    // 金币正转换\n    digitalConversion(num, xsd = 2) {\n        num = Number(num)\n        if (num < 1e+3) {\n            num = num.toFixed(0)\n        } else if (num < 1e+6) {\n            num = (num / 1e+3).toFixed(xsd) + 'K'\n        } else if (num < 1e+9) {\n            num = (num / 1e+6).toFixed(xsd) + 'M'\n        } else if (num < 1e+12) {\n            num = (num / 1e+9).toFixed(xsd) + 'B'\n        } else if (num < 1e+15) {\n            num = (num / 1e+12).toFixed(xsd) + 'T'\n        } else if (num < 1e+18) {\n            num = (num / 1e+15).toFixed(xsd) + 'P'\n        } else if (num < 1e+21) {\n            num = (num / 1e+18).toFixed(xsd) + 'E'\n        } else if (num < 1e+24) {\n            num = (num / 1e+21).toFixed(xsd) + 'Z'\n        } else if (num < 1e+27) {\n            num = (num / 1e+24).toFixed(xsd) + 'Y'\n        } else {\n            num = (num / 1e+27).toFixed(xsd) + 'S'\n        }\n        return num\n    },\n    setNodeBool(num, prefab) {\n        const enemyPool = new cc.NodePool();\n        for (let i = 0; i < num; ++i) {\n            enemyPool.put(cc.instantiate(prefab));\n        }\n        return enemyPool\n    },\n    getNodeBool(NodePool, Prefab) {\n        let enemy = null;\n        if (NodePool.size() > 0) {\n            enemy = NodePool.get();\n        } else {\n            enemy = cc.instantiate(Prefab);\n        }\n        return enemy;\n    },\n    is_WECHAT_GAME() {\n        return cc.sys.platform === cc.sys.WECHAT_GAME;\n    }\n}\nmodule.exports = { wxcur }"]}